<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-loading-bar.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.10.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
<meta property="og:type" content="website">
<meta property="og:title" content="swimminghao&#39;s blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="swimminghao&#39;s blog">
<meta property="og:description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="swimminghao">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>swimminghao's blog</title>
  




<link rel="dns-prefetch" href="waline-server-nu.vercel.app"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>
#needsharebutton-postbottom {
  cursor: pointer;
  height: 26px;
  margin-top: 10px;
  position: relative;
}
#needsharebutton-postbottom .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 3px;
  display: initial;
  padding: 1px 4px;
}
</style>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">swimminghao's blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">å­¦ä¹ åšå®¢</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">55</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">17</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">279</span></a></li>
        <li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>ç«™ç‚¹åœ°å›¾</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="swimminghao"
      src="/images/lion.png">
  <p class="site-author-name" itemprop="name">swimminghao</p>
  <div class="site-description" itemprop="description">swimminghaoçš„å­¦ä¹ åšå®¢</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">279</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">55</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/swimminghao" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;swimminghao" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:swimminghao0@gmail.com" title="E-Mail â†’ mailto:swimminghao0@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/swimminghao" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;swimminghao" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://plus.google.com/yourname" title="Google â†’ https:&#x2F;&#x2F;plus.google.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i>Google</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>


<!-- recent posts -->
    <div class="links-of-blogroll motion-element links-of-blogroll-block">
        <div class="links-of-blogroll-title recent-posts-title">
	    <i class="fa fa-history " aria-hidden="true"></i>
            è¿‘æœŸæ–‡ç« 
	</div>
	<ul class="links-of-blogroll-list recent-posts-list">
	        <li class="my-links-of-blogroll-item">
		    <a href="/posts/eb18152/" title="OpenCoreæ·»åŠ ubuntuå¼•å¯¼ï¼Œå¼•å¯¼åŒç³»ç»Ÿ" target="">
		    OpenCoreæ·»åŠ ubuntuå¼•å¯¼ï¼Œå¼•å¯¼åŒç³»ç»Ÿ
		    </a>
		</li>
	        <li class="my-links-of-blogroll-item">
		    <a href="/posts/f3a01220/" title="hqplayerå’ŒroonäºŒåˆä¸€" target="">
		    hqplayerå’ŒroonäºŒåˆä¸€
		    </a>
		</li>
	        <li class="my-links-of-blogroll-item">
		    <a href="/posts/a0ae5a65/" title="CentOS7 æºç å®‰è£…redis4" target="">
		    CentOS7 æºç å®‰è£…redis4
		    </a>
		</li>
	        <li class="my-links-of-blogroll-item">
		    <a href="/posts/701fa192/" title="mac10.15 ä¸‹ git2.33 å®‰è£… git-gui" target="">
		    mac10.15 ä¸‹ git2.33 å®‰è£… git-gui
		    </a>
		</li>
	        <li class="my-links-of-blogroll-item">
		    <a href="/posts/42c28135/" title="parallels Desktopå…±äº«æœ¬æœºç›®å½•ç»™è™šæ‹Ÿæœº" target="">
		    parallels Desktopå…±äº«æœ¬æœºç›®å½•ç»™è™šæ‹Ÿæœº
		    </a>
		</li>
	</ul>
    </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="è¿”å›é¡¶éƒ¨">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/4a17b156/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/4a17b156/" class="post-title-link" itemprop="url">hexo-start</a>
        </h2>

        <div class="post-meta-container">

          
              <i class="fa fa-thumb-tack"></i>
              <font color=7D26CD>ç½®é¡¶</font>
              <span class="post-meta-divider">|</span>
          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-06-24 01:10:00" itemprop="dateCreated datePublished" datetime="2022-06-24T01:10:00+08:00">2022-06-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-02-13 16:20:39" itemprop="dateModified" datetime="2025-02-13T16:20:39+08:00">2025-02-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/4a17b156/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/4a17b156/" data-xid="/posts/4a17b156/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>699</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>æ‘˜è¦å†…å®¹â€¦â€¦</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/4a17b156/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/2df4ba17/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/2df4ba17/" class="post-title-link" itemprop="url">ä¸€ä¸ªå‡½æ•°ç§’æ€ 2Sum 3Sum 4Sum é—®é¢˜</a>
        </h2>

        <div class="post-meta-container">

          
              <i class="fa fa-thumb-tack"></i>
              <font color=7D26CD>ç½®é¡¶</font>
              <span class="post-meta-divider">|</span>
          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-02-28 19:57:47" itemprop="dateCreated datePublished" datetime="2022-02-28T19:57:47+08:00">2022-02-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-02-13 16:20:39" itemprop="dateModified" datetime="2025-02-13T16:20:39+08:00">2025-02-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/2df4ba17/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/2df4ba17/" data-xid="/posts/2df4ba17/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>7.8k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>7 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä¸€ä¸ªå‡½æ•°ç§’æ€-2Sum-3Sum-4Sum-é—®é¢˜"><a href="#ä¸€ä¸ªå‡½æ•°ç§’æ€-2Sum-3Sum-4Sum-é—®é¢˜" class="headerlink" title="ä¸€ä¸ªå‡½æ•°ç§’æ€ 2Sum 3Sum 4Sum é—®é¢˜"></a>ä¸€ä¸ªå‡½æ•°ç§’æ€ 2Sum 3Sum 4Sum é—®é¢˜</h1><p>ç»å¸¸åˆ· LeetCode çš„è¯»è€…è‚¯å®šçŸ¥é“é¼é¼æœ‰åçš„ <code>twoSum</code> é—®é¢˜ï¼Œæˆ‘ä»¬çš„æ—§æ–‡ <a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&mid=2247484474&idx=1&sn=dfbadbe6e17d695a1907e2adcd9f0d3c&chksm=9bd7fa32aca0732406829a6d1de34b7e3144af239cc25e014f5349d73cea952d5f2b0473345a&scene=21#wechat_redirect">Two Sum é—®é¢˜çš„æ ¸å¿ƒæ€æƒ³</a> å¯¹ <code>twoSum</code> çš„å‡ ä¸ªå˜ç§åšäº†è§£æã€‚</p>
<p>ä½†æ˜¯é™¤äº† <code>twoSum</code> é—®é¢˜ï¼ŒLeetCode ä¸Šé¢è¿˜æœ‰ <code>3Sum</code>ï¼Œ<code>4Sum</code> é—®é¢˜ï¼Œæˆ‘ä¼°è®¡ä»¥åå‡ºä¸ª <code>5Sum</code>ï¼Œ<code>6Sum</code> ä¹Ÿä¸æ˜¯ä¸å¯èƒ½ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¯¹äºè¿™ç§é—®é¢˜æœ‰æ²¡æœ‰ä»€ä¹ˆå¥½åŠæ³•ç”¨å¥—è·¯è§£å†³å‘¢ï¼Ÿæœ¬æ–‡å°±ç”±æµ…å…¥æ·±ï¼Œå±‚å±‚æ¨è¿›ï¼Œç”¨ä¸€ä¸ªå‡½æ•°æ¥è§£å†³æ‰€æœ‰ <code>nSum</code> ç±»å‹çš„é—®é¢˜ã€‚</p>
<h2 id="ä¸€ã€twoSum-é—®é¢˜"><a href="#ä¸€ã€twoSum-é—®é¢˜" class="headerlink" title="ä¸€ã€twoSum é—®é¢˜"></a>ä¸€ã€twoSum é—®é¢˜</h2><p>[leetcode1](<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/two-sum/">1. ä¸¤æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a>)</p>
<p>åŠ›æ‰£ä¸Šçš„ twoSum é—®é¢˜ï¼Œé¢˜ç›®è¦æ±‚è¿”å›çš„æ˜¯ç´¢å¼•ï¼Œè¿™é‡Œæˆ‘æ¥ç¼–ä¸€é“ twoSum é¢˜ç›®ï¼Œä¸è¦è¿”å›ç´¢å¼•ï¼Œè¿”å›å…ƒç´ çš„å€¼ï¼š</p>
<p>å¦‚æœå‡è®¾è¾“å…¥ä¸€ä¸ªæ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªç›®æ ‡å’Œ <code>target</code>ï¼Œ<strong>è¯·ä½ è¿”å› <code>nums</code> ä¸­èƒ½å¤Ÿå‡‘å‡º <code>target</code> çš„ä¸¤ä¸ªå…ƒç´ çš„å€¼</strong>ï¼Œæ¯”å¦‚è¾“å…¥ <code>nums = [5,3,1,6], target = 9</code>ï¼Œé‚£ä¹ˆç®—æ³•è¿”å›ä¸¤ä¸ªå…ƒç´  <code>[3,6]</code>ã€‚å¯ä»¥å‡è®¾åªæœ‰ä¸”ä»…æœ‰ä¸€å¯¹å„¿å…ƒç´ å¯ä»¥å‡‘å‡º <code>target</code>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å…ˆå¯¹ <code>nums</code> æ’åºï¼Œç„¶ååˆ©ç”¨å‰æ–‡ã€Œ<a target="_blank" rel="noopener" href="http://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&mid=2247484505&idx=1&sn=0e9517f7c4021df0e6146c6b2b0c4aba&chksm=9bd7fa51aca07347009c591c403b3228f41617806429e738165bd58d60220bf8f15f92ff8a2e&scene=21#wechat_redirect">åŒæŒ‡é’ˆæŠ€å·§æ±‡æ€»</a>ã€å†™è¿‡çš„å·¦å³åŒæŒ‡é’ˆæŠ€å·§ï¼Œä»ä¸¤ç«¯ç›¸å‘è€Œè¡Œå°±è¡Œäº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; <span class="title function_">twoSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="comment">// å…ˆå¯¹æ•°ç»„æ’åº</span></span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="comment">// å·¦å³æŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = nums.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[lo] + nums[hi];</span><br><span class="line">        <span class="comment">// æ ¹æ® sum å’Œ target çš„æ¯”è¾ƒï¼Œç§»åŠ¨å·¦å³æŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">            lo++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">            hi--;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum == target) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;nums[lo], nums[hi]&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸è¿‡æˆ‘ä»¬è¦ç»§ç»­é­”æ”¹é¢˜ç›®ï¼ŒæŠŠè¿™ä¸ªé¢˜ç›®å˜å¾—æ›´æ³›åŒ–ï¼Œæ›´å›°éš¾ä¸€ç‚¹ï¼š</p>
<p><strong><code>nums</code> ä¸­å¯èƒ½æœ‰å¤šå¯¹å„¿å…ƒç´ ä¹‹å’Œéƒ½ç­‰äº <code>target</code>ï¼Œè¯·ä½ çš„ç®—æ³•è¿”å›æ‰€æœ‰å’Œä¸º <code>target</code> çš„å…ƒç´ å¯¹å„¿ï¼Œå…¶ä¸­ä¸èƒ½å‡ºç°é‡å¤</strong>ã€‚</p>
<p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">twoSumTarget</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span>;</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚è¯´è¾“å…¥ä¸º <code>nums = [1,3,1,2,2,3], target = 4</code>ï¼Œé‚£ä¹ˆç®—æ³•è¿”å›çš„ç»“æœå°±æ˜¯ï¼š<code>[[1,3],[2,2]]</code>ã€‚</p>
<p>å¯¹äºä¿®æ”¹åçš„é—®é¢˜ï¼Œå…³é”®éš¾ç‚¹æ˜¯ç°åœ¨å¯èƒ½æœ‰å¤šä¸ªå’Œä¸º <code>target</code> çš„æ•°å¯¹å„¿ï¼Œè¿˜ä¸èƒ½é‡å¤ï¼Œæ¯”å¦‚ä¸Šè¿°ä¾‹å­ä¸­ <code>[1,3]</code> å’Œ <code>[3,1]</code> å°±ç®—é‡å¤ï¼Œåªèƒ½ç®—ä¸€æ¬¡ã€‚</p>
<p>é¦–å…ˆï¼ŒåŸºæœ¬æ€è·¯è‚¯å®šè¿˜æ˜¯æ’åºåŠ åŒæŒ‡é’ˆï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">twoSumTarget</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target &#123;</span></span><br><span class="line"><span class="params">    // å…ˆå¯¹æ•°ç»„æ’åº</span></span><br><span class="line"><span class="params">    sort(nums.begin()</span>, nums.end());</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = nums.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[lo] + nums[hi];</span><br><span class="line">        <span class="comment">// æ ¹æ® sum å’Œ target çš„æ¯”è¾ƒï¼Œç§»åŠ¨å·¦å³æŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">if</span>      (sum &lt; target) lo++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) hi--;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            res.push_back(&#123;lo, hi&#125;);</span><br><span class="line">            lo++; hi--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œè¿™æ ·å®ç°ä¼šé€ æˆé‡å¤çš„ç»“æœï¼Œæ¯”å¦‚è¯´ <code>nums = [1,1,1,2,2,3,3], target = 4</code>ï¼Œå¾—åˆ°çš„ç»“æœä¸­ <code>[1,3]</code> è‚¯å®šä¼šé‡å¤ã€‚</p>
<p>å‡ºé—®é¢˜çš„åœ°æ–¹åœ¨äº <code>sum == target</code> æ¡ä»¶çš„ if åˆ†æ”¯ï¼Œå½“ç»™ <code>res</code> åŠ å…¥ä¸€æ¬¡ç»“æœåï¼Œ<code>lo</code> å’Œ <code>hi</code> ä¸åº”è¯¥æ”¹å˜ 1 çš„åŒæ—¶ï¼Œè¿˜åº”è¯¥è·³è¿‡æ‰€æœ‰é‡å¤çš„å…ƒç´ ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/EQzz7o_20210427105202.png" alt="å›¾ç‰‡"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[lo] + nums[hi];</span><br><span class="line">    <span class="comment">// è®°å½•ç´¢å¼• lo å’Œ hi æœ€åˆå¯¹åº”çš„å€¼</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> nums[lo], right = nums[hi];</span><br><span class="line">    <span class="keyword">if</span> (sum &lt; target)      lo++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) hi--;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        res.push_back(&#123;left, right&#125;);</span><br><span class="line">        <span class="comment">// è·³è¿‡æ‰€æœ‰é‡å¤çš„å…ƒç´ </span></span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥ä¿è¯ä¸€ä¸ªç­”æ¡ˆåªè¢«æ·»åŠ ä¸€æ¬¡ï¼Œé‡å¤çš„ç»“æœéƒ½ä¼šè¢«è·³è¿‡ï¼Œå¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç­”æ¡ˆã€‚ä¸è¿‡ï¼Œå—è¿™ä¸ªæ€è·¯çš„å¯å‘ï¼Œå…¶å®å‰ä¸¤ä¸ª if åˆ†æ”¯ä¹Ÿæ˜¯å¯ä»¥åšä¸€ç‚¹æ•ˆç‡ä¼˜åŒ–ï¼Œè·³è¿‡ç›¸åŒçš„å…ƒç´ ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">twoSumTarget</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="comment">// nums æ•°ç»„å¿…é¡»æœ‰åº</span></span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = nums.size() - <span class="number">1</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[lo] + nums[hi];</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> nums[lo], right = nums[hi];</span><br><span class="line">        <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">            <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">            <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.push_back(&#123;left, right&#125;);</span><br><span class="line">            <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">            <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œä¸€ä¸ªé€šç”¨åŒ–çš„ <code>twoSum</code> å‡½æ•°å°±å†™å‡ºæ¥äº†ï¼Œè¯·ç¡®ä¿ä½ ç†è§£äº†è¯¥ç®—æ³•çš„é€»è¾‘ï¼Œæˆ‘ä»¬åé¢è§£å†³ <code>3Sum</code> å’Œ <code>4Sum</code> çš„æ—¶å€™ä¼šå¤ç”¨è¿™ä¸ªå‡½æ•°ã€‚</p>
<p>è¿™ä¸ªå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦éå¸¸å®¹æ˜“çœ‹å‡ºæ¥ï¼ŒåŒæŒ‡é’ˆæ“ä½œçš„éƒ¨åˆ†è™½ç„¶æœ‰é‚£ä¹ˆå¤š while å¾ªç¯ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ <code>O(N)</code>ï¼Œè€Œæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ <code>O(NlogN)</code>ï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <code>O(NlogN)</code>ã€‚</p>
<h3 id="äºŒã€3Sum-é—®é¢˜"><a href="#äºŒã€3Sum-é—®é¢˜" class="headerlink" title="äºŒã€3Sum é—®é¢˜"></a>äºŒã€3Sum é—®é¢˜</h3><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/3sum/">Leetcode15</a></p>
<p>è¿™æ˜¯åŠ›æ‰£ç¬¬ 15 é¢˜ã€Œä¸‰æ•°ä¹‹å’Œã€ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/MUV5CJ_20210427105255.png" alt="å›¾ç‰‡"></p>
<p>é¢˜ç›®å°±æ˜¯è®©æˆ‘ä»¬æ‰¾ <code>nums</code> ä¸­å’Œä¸º 0 çš„ä¸‰ä¸ªå…ƒç´ ï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„ä¸‰å…ƒç»„ï¼ˆtripleï¼‰ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">threeSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span>;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬å†æ³›åŒ–ä¸€ä¸‹é¢˜ç›®ï¼Œä¸è¦å…‰å’Œä¸º 0 çš„ä¸‰å…ƒç»„äº†ï¼Œè®¡ç®—å’Œä¸º <code>target</code> çš„ä¸‰å…ƒç»„å§ï¼ŒåŒä¸Šé¢çš„ <code>twoSum</code> ä¸€æ ·ï¼Œä¹Ÿä¸å…è®¸é‡å¤çš„ç»“æœï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">threeSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> &#123;</span><br><span class="line">    <span class="comment">// æ±‚å’Œä¸º 0 çš„ä¸‰å…ƒç»„</span></span><br><span class="line">    <span class="keyword">return</span> threeSumTarget(nums, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">threeSumTarget</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="comment">// è¾“å…¥æ•°ç»„ numsï¼Œè¿”å›æ‰€æœ‰å’Œä¸º target çš„ä¸‰å…ƒç»„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ<strong>å¾ˆç®€å•ï¼Œç©·ä¸¾å‘—</strong>ã€‚ç°åœ¨æˆ‘ä»¬æƒ³æ‰¾å’Œä¸º <code>target</code> çš„ä¸‰ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆå¯¹äºç¬¬ä¸€ä¸ªæ•°å­—ï¼Œå¯èƒ½æ˜¯ä»€ä¹ˆï¼Ÿ<code>nums</code> ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´  <code>nums[i]</code> éƒ½æœ‰å¯èƒ½ï¼</p>
<p>é‚£ä¹ˆï¼Œç¡®å®šäº†ç¬¬ä¸€ä¸ªæ•°å­—ä¹‹åï¼Œå‰©ä¸‹çš„ä¸¤ä¸ªæ•°å­—å¯ä»¥æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å°±æ˜¯å’Œä¸º <code>target - nums[i]</code> çš„ä¸¤ä¸ªæ•°å­—å‘—ï¼Œé‚£ä¸å°±æ˜¯ <code>twoSum</code> å‡½æ•°è§£å†³çš„é—®é¢˜ä¹ˆğŸ¤”</p>
<p>å¯ä»¥ç›´æ¥å†™ä»£ç äº†ï¼Œéœ€è¦æŠŠ <code>twoSum</code> å‡½æ•°ç¨ä½œä¿®æ”¹å³å¯å¤ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä» nums[start] å¼€å§‹ï¼Œè®¡ç®—æœ‰åºæ•°ç»„</span></span><br><span class="line"><span class="comment"> * nums ä¸­æ‰€æœ‰å’Œä¸º target çš„äºŒå…ƒç»„ */</span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">twoSumTarget</span><span class="params">(</span></span><br><span class="line"><span class="params">    vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> start, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="comment">// å·¦æŒ‡é’ˆæ”¹ä¸ºä» start å¼€å§‹ï¼Œå…¶ä»–ä¸å˜</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> start, hi = nums.size() - <span class="number">1</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è®¡ç®—æ•°ç»„ nums ä¸­æ‰€æœ‰å’Œä¸º target çš„ä¸‰å…ƒç»„ */</span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">threeSumTarget</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="comment">// æ•°ç»„å¾—æ’ä¸ªåº</span></span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.size();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="comment">// ç©·ä¸¾ threeSum çš„ç¬¬ä¸€ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">// å¯¹ target - nums[i] è®¡ç®— twoSum</span></span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; </span><br><span class="line">            tuples = twoSumTarget(nums, i + <span class="number">1</span>, target - nums[i]);</span><br><span class="line">        <span class="comment">// å¦‚æœå­˜åœ¨æ»¡è¶³æ¡ä»¶çš„äºŒå…ƒç»„ï¼Œå†åŠ ä¸Š nums[i] å°±æ˜¯ç»“æœä¸‰å…ƒç»„</span></span><br><span class="line">        <span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;&amp; tuple : tuples) &#123;</span><br><span class="line">            tuple.push_back(nums[i]);</span><br><span class="line">            res.push_back(tuple);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è·³è¿‡ç¬¬ä¸€ä¸ªæ•°å­—é‡å¤çš„æƒ…å†µï¼Œå¦åˆ™ä¼šå‡ºç°é‡å¤ç»“æœ</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt; n - <span class="number">1</span> &amp;&amp; nums[i] == nums[i + <span class="number">1</span>]) i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç±»ä¼¼ <code>twoSum</code>ï¼Œ<code>3Sum</code> çš„ç»“æœä¹Ÿå¯èƒ½é‡å¤ï¼Œæ¯”å¦‚è¾“å…¥æ˜¯ <code>nums = [1,1,1,2,3], target = 6</code>ï¼Œç»“æœå°±ä¼šé‡å¤ã€‚</p>
<p><strong>å…³é”®ç‚¹åœ¨äºï¼Œä¸èƒ½è®©ç¬¬ä¸€ä¸ªæ•°é‡å¤ï¼Œè‡³äºåé¢çš„ä¸¤ä¸ªæ•°ï¼Œæˆ‘ä»¬å¤ç”¨çš„ <code>twoSum</code> å‡½æ•°ä¼šä¿è¯å®ƒä»¬ä¸é‡å¤</strong>ã€‚æ‰€ä»¥ä»£ç ä¸­å¿…é¡»ç”¨ä¸€ä¸ª while å¾ªç¯æ¥ä¿è¯ <code>3Sum</code> ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¸é‡å¤ã€‚</p>
<p>è‡³æ­¤ï¼Œ<code>3Sum</code> é—®é¢˜å°±è§£å†³äº†ï¼Œæ—¶é—´å¤æ‚åº¦ä¸éš¾ç®—ï¼Œæ’åºçš„å¤æ‚åº¦ä¸º <code>O(NlogN)</code>ï¼Œ<code>twoSumTarget</code> å‡½æ•°ä¸­çš„åŒæŒ‡é’ˆæ“ä½œä¸º <code>O(N)</code>ï¼Œ<code>threeSumTarget</code> å‡½æ•°åœ¨ for å¾ªç¯ä¸­è°ƒç”¨ <code>twoSumTarget</code> æ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ <code>O(NlogN + N^2) = O(N^2)</code>ã€‚</p>
<h3 id="ä¸‰ã€4Sum-é—®é¢˜"><a href="#ä¸‰ã€4Sum-é—®é¢˜" class="headerlink" title="ä¸‰ã€4Sum é—®é¢˜"></a>ä¸‰ã€4Sum é—®é¢˜</h3><p><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/4sum/">Leetcode18</a></p>
<p>è¿™æ˜¯åŠ›æ‰£ç¬¬ 18 é¢˜ã€Œå››æ•°ä¹‹å’Œã€ï¼š</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/GjaUGB_20210427105438.png" alt="å›¾ç‰‡"></p>
<p>å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">fourSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span>;</span><br></pre></td></tr></table></figure>

<p>éƒ½åˆ°è¿™ä»½ä¸Šäº†ï¼Œ<code>4Sum</code> å®Œå…¨å°±å¯ä»¥ç”¨ç›¸åŒçš„æ€è·¯ï¼šç©·ä¸¾ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œç„¶åè°ƒç”¨ <code>3Sum</code> å‡½æ•°è®¡ç®—å‰©ä¸‹ä¸‰ä¸ªæ•°ï¼Œæœ€åç»„åˆå‡ºå’Œä¸º <code>target</code> çš„å››å…ƒç»„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">fourSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="comment">// æ•°ç»„éœ€è¦æ’åº</span></span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.size();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="comment">// ç©·ä¸¾ fourSum çš„ç¬¬ä¸€ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">// å¯¹ target - nums[i] è®¡ç®— threeSum</span></span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; </span><br><span class="line">            triples = threeSumTarget(nums, i + <span class="number">1</span>, target - nums[i]);</span><br><span class="line">        <span class="comment">// å¦‚æœå­˜åœ¨æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„ï¼Œå†åŠ ä¸Š nums[i] å°±æ˜¯ç»“æœå››å…ƒç»„</span></span><br><span class="line">        <span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;&amp; triple : triples) &#123;</span><br><span class="line">            triple.push_back(nums[i]);</span><br><span class="line">            res.push_back(triple);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// fourSum çš„ç¬¬ä¸€ä¸ªæ•°ä¸èƒ½é‡å¤</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt; n - <span class="number">1</span> &amp;&amp; nums[i] == nums[i + <span class="number">1</span>]) i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä» nums[start] å¼€å§‹ï¼Œè®¡ç®—æœ‰åºæ•°ç»„</span></span><br><span class="line"><span class="comment"> * nums ä¸­æ‰€æœ‰å’Œä¸º target çš„ä¸‰å…ƒç»„ */</span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; </span><br><span class="line">    <span class="title function_">threeSumTarget</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> start, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.size();</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">        <span class="comment">// i ä» start å¼€å§‹ç©·ä¸¾ï¼Œå…¶ä»–éƒ½ä¸å˜</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; n; i++) &#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼ŒæŒ‰ç…§ç›¸åŒçš„å¥—è·¯ï¼Œ<code>4Sum</code> é—®é¢˜å°±è§£å†³äº†ï¼Œæ—¶é—´å¤æ‚åº¦çš„åˆ†æå’Œä¹‹å‰ç±»ä¼¼ï¼Œfor å¾ªç¯ä¸­è°ƒç”¨äº† <code>threeSumTarget</code> å‡½æ•°ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ <code>O(N^3)</code>ã€‚</p>
<h3 id="å››ã€100Sum-é—®é¢˜ï¼Ÿ"><a href="#å››ã€100Sum-é—®é¢˜ï¼Ÿ" class="headerlink" title="å››ã€100Sum é—®é¢˜ï¼Ÿ"></a>å››ã€100Sum é—®é¢˜ï¼Ÿ</h3><p>åœ¨ LeetCode ä¸Šï¼Œ<code>4Sum</code> å°±åˆ°å¤´äº†ï¼Œ<strong>ä½†æ˜¯å›æƒ³åˆšæ‰å†™ <code>3Sum</code> å’Œ <code>4Sum</code> çš„è¿‡ç¨‹ï¼Œå®é™…ä¸Šæ˜¯éµå¾ªç›¸åŒçš„æ¨¡å¼çš„</strong>ã€‚æˆ‘ç›¸ä¿¡ä½ åªè¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ <code>4Sum</code> çš„å‡½æ•°å°±å¯ä»¥å¤ç”¨å¹¶è§£å†³ <code>5Sum</code> é—®é¢˜ï¼Œç„¶åè§£å†³ <code>6Sum</code> é—®é¢˜â€¦â€¦</p>
<p>é‚£ä¹ˆï¼Œå¦‚æœæˆ‘è®©ä½ æ±‚ <code>100Sum</code> é—®é¢˜ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿå…¶å®æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿä¸Šé¢è¿™äº›è§£æ³•ï¼Œç»Ÿä¸€å‡ºä¸€ä¸ª <code>nSum</code> å‡½æ•°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ³¨æ„ï¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ä¹‹å‰ä¸€å®šè¦å…ˆç»™ nums æ’åº */</span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">nSumTarget</span><span class="params">(</span></span><br><span class="line"><span class="params">    vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> n, <span class="type">int</span> start, <span class="type">int</span> target)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">sz</span> <span class="operator">=</span> nums.size();</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; res;</span><br><span class="line">    <span class="comment">// è‡³å°‘æ˜¯ 2Sumï¼Œä¸”æ•°ç»„å¤§å°ä¸åº”è¯¥å°äº n</span></span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">2</span> || sz &lt; n) <span class="keyword">return</span> res;</span><br><span class="line">    <span class="comment">// 2Sum æ˜¯ base case</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">// åŒæŒ‡é’ˆé‚£ä¸€å¥—æ“ä½œ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> start, hi = sz - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[lo] + nums[hi];</span><br><span class="line">            <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> nums[lo], right = nums[hi];</span><br><span class="line">            <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">                <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; target) &#123;</span><br><span class="line">                <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res.push_back(&#123;left, right&#125;);</span><br><span class="line">                <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[lo] == left) lo++;</span><br><span class="line">                <span class="keyword">while</span> (lo &lt; hi &amp;&amp; nums[hi] == right) hi--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// n &gt; 2 æ—¶ï¼Œé€’å½’è®¡ç®— (n-1)Sum çš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt; sz; i++) &#123;</span><br><span class="line">            vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; </span><br><span class="line">                sub = nSumTarget(nums, n - <span class="number">1</span>, i + <span class="number">1</span>, target - nums[i]);</span><br><span class="line">            <span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;&amp; arr : sub) &#123;</span><br><span class="line">                <span class="comment">// (n-1)Sum åŠ ä¸Š nums[i] å°±æ˜¯ nSum</span></span><br><span class="line">                arr.push_back(nums[i]);</span><br><span class="line">                res.push_back(arr);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; sz - <span class="number">1</span> &amp;&amp; nums[i] == nums[i + <span class="number">1</span>]) i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å—¯ï¼Œçœ‹èµ·æ¥å¾ˆé•¿ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠä¹‹å‰çš„é¢˜ç›®è§£æ³•åˆå¹¶èµ·æ¥äº†ï¼Œ<code>n == 2</code> æ—¶æ˜¯ <code>twoSum</code> çš„åŒæŒ‡é’ˆè§£æ³•ï¼Œ<code>n &gt; 2</code> æ—¶å°±æ˜¯ç©·ä¸¾ç¬¬ä¸€ä¸ªæ•°å­—ï¼Œç„¶åé€’å½’è°ƒç”¨è®¡ç®— <code>(n-1)Sum</code>ï¼Œç»„è£…ç­”æ¡ˆã€‚</p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè°ƒç”¨è¿™ä¸ª <code>nSum</code> å‡½æ•°ä¹‹å‰ä¸€å®šè¦å…ˆç»™ <code>nums</code> æ•°ç»„æ’åº</strong>ï¼Œå› ä¸º <code>nSum</code> æ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œå¦‚æœåœ¨ <code>nSum</code> å‡½æ•°é‡Œè°ƒç”¨æ’åºå‡½æ•°ï¼Œé‚£ä¹ˆæ¯æ¬¡é€’å½’éƒ½ä¼šè¿›è¡Œæ²¡æœ‰å¿…è¦çš„æ’åºï¼Œæ•ˆç‡ä¼šéå¸¸ä½ã€‚</p>
<p>æ¯”å¦‚è¯´ç°åœ¨æˆ‘ä»¬å†™ LeetCode ä¸Šçš„ <code>4Sum</code> é—®é¢˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">fourSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="comment">// n ä¸º 4ï¼Œä» nums[0] å¼€å§‹è®¡ç®—å’Œä¸º target çš„å››å…ƒç»„</span></span><br><span class="line">    <span class="keyword">return</span> nSumTarget(nums, <span class="number">4</span>, <span class="number">0</span>, target);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†æ¯”å¦‚ LeetCode çš„ <code>3Sum</code> é—®é¢˜ï¼Œæ‰¾ <code>target == 0</code> çš„ä¸‰å…ƒç»„ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="title function_">threeSum</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> &#123;</span><br><span class="line">    sort(nums.begin(), nums.end());</span><br><span class="line">    <span class="comment">// n ä¸º 3ï¼Œä» nums[0] å¼€å§‹è®¡ç®—å’Œä¸º 0 çš„ä¸‰å…ƒç»„</span></span><br><span class="line">    <span class="keyword">return</span> nSumTarget(nums, <span class="number">3</span>, <span class="number">0</span>, <span class="number">0</span>);        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆï¼Œå¦‚æœè®©ä½ è®¡ç®— <code>100Sum</code> é—®é¢˜ï¼Œç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°å°±å®Œäº‹å„¿äº†ã€‚</p>

      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/eb18152/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/eb18152/" class="post-title-link" itemprop="url">OpenCoreæ·»åŠ ubuntuå¼•å¯¼ï¼Œå¼•å¯¼åŒç³»ç»Ÿ</a>
        </h2>

        <div class="post-meta-container">

          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-11-06 09:34:11 / ä¿®æ”¹æ—¶é—´ï¼š09:34:29" itemprop="dateCreated datePublished" datetime="2025-11-06T09:34:11+08:00">2025-11-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/eb18152/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/eb18152/" data-xid="/posts/eb18152/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="OpenCoreæ·»åŠ ubuntuå¼•å¯¼ï¼Œå¼•å¯¼åŒç³»ç»Ÿ"><a href="#OpenCoreæ·»åŠ ubuntuå¼•å¯¼ï¼Œå¼•å¯¼åŒç³»ç»Ÿ" class="headerlink" title="OpenCoreæ·»åŠ ubuntuå¼•å¯¼ï¼Œå¼•å¯¼åŒç³»ç»Ÿ"></a>OpenCoreæ·»åŠ ubuntuå¼•å¯¼ï¼Œå¼•å¯¼åŒç³»ç»Ÿ</h1><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨æ­¤å‰å·²ç»å®‰è£…å¥½äº†Macï¼Œå¹¶èƒ½æ­£å¸¸å¼•å¯¼ä½†æ˜¯Ubuntuçš„å¼•å¯¼éœ€è¦æ‰‹åŠ¨æŒ‰F10è¿›è¡Œé€‰æ‹©ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå°è¯•å°†Ubuntuçš„å¼•å¯¼ä¹ŸåŠ å…¥åˆ°OCä¸­ã€‚</p>
<p>å‚è€ƒå›½å¤–å¤§ä½¬<a target="_blank" rel="noopener" href="https://kextcache.com/author/ayushere/">Ayush Sahay Chaudhary</a>çš„åšå®¢<a target="_blank" rel="noopener" href="http://kextcache.com/opencore-dualboot-guide/">[GUIDE] Opencore Dualboot&#x2F; Multiboot Guide</a>è¿›è¡Œçš„é…ç½®ï¼Œè¯¥åšå®¢ä¸­æœ‰å®Œæ•´çš„win+mac+linuxçš„å®‰è£…æ­¥éª¤ã€‚</p>
<h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><p>è¯·ç¡®ä¿ä½ çš„OCä¸­å­˜åœ¨OpenShell.efiæ–‡ä»¶ï¼Œæ²¡æœ‰å¯å‰å¾€opencoreå®˜æ–¹ç½‘ç«™è¿›è¡ŒæŠ„ä½œä¸š</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/2MhddB.png"></p>
<h3 id="ä¸‹è½½OpenCore-Configurator"><a href="#ä¸‹è½½OpenCore-Configurator" class="headerlink" title="ä¸‹è½½OpenCore Configurator"></a>ä¸‹è½½OpenCore Configurator</h3><p>è¿›å…¥MACï¼Œåœ¨ç½‘ä¸Šä¸‹è½½OpenCore Configuratorå·¥å…·ï¼Œå·¥å…·ç‰ˆæœ¬è¦å’ŒOCæ–‡ä»¶ç‰ˆæœ¬å¯¹åº”ã€‚</p>
<h3 id="åœ¨OpenShellä¸­æ‰¾åˆ°EFIçš„ä½ç½®"><a href="#åœ¨OpenShellä¸­æ‰¾åˆ°EFIçš„ä½ç½®" class="headerlink" title="åœ¨OpenShellä¸­æ‰¾åˆ°EFIçš„ä½ç½®"></a>åœ¨OpenShellä¸­æ‰¾åˆ°EFIçš„ä½ç½®</h3><p>å¯åŠ¨åˆ° OpenCore å¹¶é€‰æ‹© OpenShell.efi</p>
<p>å¦‚æœåœ¨OCä¸­æ— æ³•æ‰¾åˆ°è¯¥é€‰é¡¹è€ŒEFIä¸­ç¡®å®æ”¾ç½®äº†OpenShell.efiï¼Œé‚£ä¹ˆè¿›å…¥Macä¸­å¯åŠ¨OpenCore Configuratorã€‚</p>
<p>è½¬åˆ°å·¥å…·&gt; æŒ‚è½½EFI</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/iDO59h.png"></p>
<p>é€‰æ‹©è‡ªå·±ç”µè„‘EFIæ‰€åœ¨çš„ç¡¬ç›˜å¹¶æŒ‚è½½</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/aT3E4Y.png"></p>
<p>æ‰¾åˆ°å…¶ä¸­çš„EFI&gt; OC&gt; config.plistï¼Œåœ¨OpenCore Configuratorä¸­æ‰“å¼€è¯¥æ–‡ä»¶</p>
<p>å°†å…¶å¯ç”¨ä¿å­˜å†è¿›å…¥OCä¸­å°±å¯ä»¥çœ‹åˆ°OpenShell.efi</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/AYqSCo.png"></p>
<p>é‡å¯åˆ° OpenCore å¹¶é€‰æ‹© OpenShell.efi</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/w02Nr7.png"></p>
<p>ä½ ä¼šçœ‹åˆ°è¿™æ ·çš„å±å¹•ï¼ˆè¿™æ—¶è¯·æ³¨æ„åŠæ—¶æŒ‰ä¸€ä¸‹æŒ‰é”®ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/up6xni.png"></p>
<p>è¿™é‡Œçš„ä¸œè¥¿æ˜¯ï¼ŒFS1, FS2,â€¦ FS7: æ˜¯æ‰€æœ‰è¿æ¥åˆ°ç³»ç»Ÿçš„é©±åŠ¨å™¨çš„åˆ†åŒºï¼Œä½ å¿…é¡»ç¡®å®šå“ªä¸ªæ˜¯Linux åˆ†åŒºã€‚</p>
<p>è¦æŸ¥æ‰¾åˆ†åŒºå¼€å§‹è¾“å…¥</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">FS1:</span></span><br></pre></td></tr></table></figure>


<p>ç„¶åè¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/yB82Q4.png"></p>
<p>ç»§ç»­è¿™ä¸ªæ“ä½œä¸€ç›´åˆ°ä½ åœ¨è¾“å…¥ DIR åæ‰¾åˆ° EFI çš„æ–‡ä»¶å¤¹</p>
<p>è¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FS2:</span><br></pre></td></tr></table></figure>


<p>ç„¶åè¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span></span><br></pre></td></tr></table></figure>


<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/NDw47P.png"></p>
<p>å†æ¬¡è¿™æ ·è¾“å…¥</p>
<p>æˆ‘åœ¨ FS7ä¸­æ‰¾åˆ°äº†æˆ‘çš„ æ€» EFI åˆ†åŒºï¼š</p>
<p>æ£€æŸ¥ä½ çš„EFIæ–‡ä»¶å¤¹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> EFI</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœubuntuçš„æ–‡ä»¶å¤¹æ˜¯åœ¨è¿™ä¸ªåˆ†åŒºé‡Œé¢</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/R9mPlO.png"></p>
<p>è¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ../</span><br></pre></td></tr></table></figure>


<p>å›åˆ°ä½ çš„æ ¹ EFI åˆ†åŒºï¼Œå³ FS7</p>
<p>å†æ¬¡è¾“å…¥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map &gt; map-table-linux.txt</span><br></pre></td></tr></table></figure>


<p>å°†åœ°å€ä¿¡æ¯å¯¼å‡ºåˆ°txtæ–‡ä»¶</p>
<h3 id="åˆ¶ä½œå¯åŠ¨é¡¹åœ°å€"><a href="#åˆ¶ä½œå¯åŠ¨é¡¹åœ°å€" class="headerlink" title="åˆ¶ä½œå¯åŠ¨é¡¹åœ°å€"></a>åˆ¶ä½œå¯åŠ¨é¡¹åœ°å€</h3><p>ç°åœ¨é‡æ–°å¯åŠ¨ç³»ç»Ÿå¹¶ä»å¯åŠ¨èœå•ä¸­é€‰æ‹© macOS é©±åŠ¨å™¨å¯åŠ¨åˆ° macOSã€‚</p>
<p>åŒæ ·æŒ‚è½½EFIåˆ†åŒº</p>
<p>æ‰“å¼€ EFIåˆ†åŒºå¯ä»¥çœ‹åˆ°ï¼Œmap-table-linux.txt</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/918Nox.png"></p>
<p>å°†å…¶å‰ªåˆ‡åˆ°æ¡Œé¢ï¼Œæ‰“å¼€å®ƒ</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/Q1AEeo.png"></p>
<p>æŸ¥åˆ°ä½ åœ¨OpenShellä¸­æ‰¾åˆ°çš„é©±åŠ¨å™¨å·ï¼ˆæˆ‘çš„æ˜¯FS7ï¼‰ï¼Œå¤åˆ¶ PCI è¡Œï¼ˆå›¾ä¸­é€‰ä¸­çš„é‚£ä¸€è¡Œï¼‰å¹¶å°†å…¶ç²˜è´´åˆ°ä¸€ä¸ªæ–°çš„æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨ PCI è¡Œä¹‹åæ·»åŠ è¿™ä¸€è¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\EFI\ubuntu\grubx64.efi</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šå‰é¢ä¸èƒ½æœ‰ç©ºæ ¼</strong></p>
<p>ä¹‹åå¯ä»¥çœ‹åˆ°æ˜¯è¿™æ ·å­</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PciRoot(0x0)/Pci(0x1D,0x0)/Pci(0x0,0x0)/NVMe(0x1,20-60-A0-49-8B-44-1B-00)/HD(1,GPT,B2C56269-054C-45C4-8ACS-C321A6B52982,0x800,0xAF000)/\EFI\ubuntu\grubx64.efi</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨OpenCore-Configuratorä¸­æ·»åŠ å¯åŠ¨é¡¹"><a href="#åœ¨OpenCore-Configuratorä¸­æ·»åŠ å¯åŠ¨é¡¹" class="headerlink" title="åœ¨OpenCore Configuratorä¸­æ·»åŠ å¯åŠ¨é¡¹"></a>åœ¨OpenCore Configuratorä¸­æ·»åŠ å¯åŠ¨é¡¹</h3><p>åŒæ ·æ‰“å¼€OpenCore Configuratorï¼Œè¿›å…¥ç›®å½•EFI&gt; OC&gt; config.plistï¼Œå°†config.pliståœ¨OpenCore Configuratorä¸­æ‰“å¼€ï¼Œç„¶åå»Misc-å…¶å®ƒè®¾ç½®ä¸­ï¼Œé€‰æ‹©Entries-è‡ªå®šä¹‰æ¡ç›®ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/6gSgi2.png"></p>
<p>åœ¨å³ä¸‹è§’æ·»åŠ è‡ªå®šä¹‰æ¡ç›®</p>
<p>è·¯å¾„ä¸­æ·»åŠ åˆ›å»ºå¥½çš„è·¯å¾„ï¼Œåç§°å¡«å†™Ubuntuï¼Œé£æ ¼è‡ªåŠ¨ï¼Œå‹¾é€‰å¯ç”¨ã€‚</p>
<h2 id="å¤§åŠŸå‘Šæˆ"><a href="#å¤§åŠŸå‘Šæˆ" class="headerlink" title="å¤§åŠŸå‘Šæˆ"></a>å¤§åŠŸå‘Šæˆ</h2><p>æ•ˆæœå±•ç¤º</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/11/06/tl2IIU.png"></p>

      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/f3a01220/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/f3a01220/" class="post-title-link" itemprop="url">hqplayerå’ŒroonäºŒåˆä¸€</a>
        </h2>

        <div class="post-meta-container">

          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-11-02 17:16:23 / ä¿®æ”¹æ—¶é—´ï¼š17:17:25" itemprop="dateCreated datePublished" datetime="2025-11-02T17:16:23+08:00">2025-11-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/f3a01220/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/f3a01220/" data-xid="/posts/f3a01220/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>5.3k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>5 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="hqplayerå’ŒroonäºŒåˆä¸€"><a href="#hqplayerå’ŒroonäºŒåˆä¸€" class="headerlink" title="hqplayerå’ŒroonäºŒåˆä¸€"></a>hqplayerå’ŒroonäºŒåˆä¸€</h1><h2 id="ç¬¬1æ­¥ï¼šå®‰è£…å¹¶é…ç½®å®¿ä¸»æœºï¼ˆDebianï¼‰"><a href="#ç¬¬1æ­¥ï¼šå®‰è£…å¹¶é…ç½®å®¿ä¸»æœºï¼ˆDebianï¼‰" class="headerlink" title="ç¬¬1æ­¥ï¼šå®‰è£…å¹¶é…ç½®å®¿ä¸»æœºï¼ˆDebianï¼‰"></a>ç¬¬1æ­¥ï¼šå®‰è£…å¹¶é…ç½®å®¿ä¸»æœºï¼ˆDebianï¼‰</h2><p>1.å®‰è£…Debianï¼šä»Debianå®˜ç½‘ä¸‹è½½ç½‘ç»œå®‰è£…é•œåƒï¼Œè¿›è¡Œæœ€å°åŒ–å®‰è£…ã€‚åœ¨è½¯ä»¶é€‰æ‹©æ—¶ï¼Œåªå‹¾é€‰â€œSSH serverâ€å’Œâ€œStandard system utilitiesâ€ã€‚</p>
<p>2.æ›´æ–°ç³»ç»Ÿï¼š</p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt <span class="keyword">update</span> <span class="variable">&amp;&amp;</span> sudo apt upgrade -y</span><br></pre></td></tr></table></figure>

<p>3.å®‰è£…å¿…è¦å·¥å…·ï¼š</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y p7zip-full squashfs-tools<span class="keyword"> system</span>d-container</span><br></pre></td></tr></table></figure>

<p>p7zip-fullç”¨äºè§£å‹7zæ–‡ä»¶ï¼Œsystemd-containeræä¾›äº†æ›´ç°ä»£çš„å®¹å™¨åŒ–ç®¡ç†å·¥å…·ï¼ˆä½†æˆ‘ä»¬ä»ä¼šä½¿ç”¨ä¼ ç»Ÿchrootï¼‰</p>
<h2 id="ç¬¬2æ­¥ï¼šå‡†å¤‡HQPlayer-OSçš„chrootç¯å¢ƒ"><a href="#ç¬¬2æ­¥ï¼šå‡†å¤‡HQPlayer-OSçš„chrootç¯å¢ƒ" class="headerlink" title="ç¬¬2æ­¥ï¼šå‡†å¤‡HQPlayer OSçš„chrootç¯å¢ƒ"></a>ç¬¬2æ­¥ï¼šå‡†å¤‡HQPlayer OSçš„chrootç¯å¢ƒ</h2><p>1.åˆ›å»ºå·¥ä½œç›®å½•ï¼š</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p <span class="regexp">/opt/</span>hqplayer-chroot</span><br></pre></td></tr></table></figure>
<p>2.è§£å‹HQPlayer Embeddedï¼š</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo</span> <span class="number">7</span>z x hqplayer-embedded-<span class="number">5</span>.<span class="number">8</span>.<span class="number">1</span>-x64sse42.<span class="number">7</span>z -o/opt/hqplayer-chroot</span><br></pre></td></tr></table></figure>
<p>è¿™ä¼šåœ¨&#x2F;opt&#x2F;hqplayer-chrootä¸‹å¾—åˆ°hqplayer-embedded-5.8.1&#x2F;æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å«bin, lib, usrç­‰ç›®å½•ã€‚è¿™å°±æ˜¯æˆ‘ä»¬chrootçš„åŸºç¡€ã€‚<br>æˆ‘ä»¬éœ€è¦æŠŠå®ƒæŒ‚è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼Œç„¶åå¤åˆ¶å…¶ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæŒ‚è½½ç‚¹</span></span><br><span class="line">sudo mkdir -p <span class="regexp">/mnt/</span>hqplayer-image</span><br></pre></td></tr></table></figure>
<p>3.æŒ‚è½½é•œåƒä¸­çš„åˆ†åŒº<br>æ‚¨éœ€è¦å…ˆæ‰¾åˆ°é•œåƒä¸­çš„åˆ†åŒºåç§»é‡ï¼Œç„¶åæŒ‚è½½æ­£ç¡®çš„åˆ†åŒºã€‚<br>ç¬¬1æ­¥ï¼šæŸ¥çœ‹é•œåƒçš„åˆ†åŒºä¿¡æ¯</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo</span> fdisk -l hqplayer-embedded-<span class="number">5</span>.<span class="number">8</span>.<span class="number">1</span>-x64sse42.img</span><br></pre></td></tr></table></figure>
<p>fdisk è¾“å‡ºæ˜¾ç¤ºé•œåƒä¸­æœ‰ä¸¤ä¸ªåˆ†åŒºï¼š<br>åˆ†åŒº1ï¼šStart&#x3D;2048, Size&#x3D;27.8M, Type&#x3D;â€Microsoft basic dataâ€ (è¿™å¾ˆå¯èƒ½æ˜¯EFIç³»ç»Ÿåˆ†åŒº)<br>åˆ†åŒº2ï¼šStart&#x3D;59392, Size&#x3D;3G, Type&#x3D;â€Linux filesystemâ€ (è¿™æ˜¯æˆ‘ä»¬è¦çš„æ ¹æ–‡ä»¶ç³»ç»Ÿåˆ†åŒº)<br>æŒ‚è½½åˆ†åŒºï¼ˆåˆ†åŒº2ï¼‰</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¡ç®—åˆ†åŒº2çš„åç§»é‡ (59392 sectors * 512 bytes/sector)</span></span><br><span class="line"><span class="attribute">OFFSET</span>=$((<span class="number">59392</span> * <span class="number">512</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‚è½½åˆ†åŒº2åˆ°æŒ‚è½½ç‚¹</span></span><br><span class="line"><span class="attribute">sudo</span> mount -o loop,offset=$OFFSET hqplayer-embedded-<span class="number">5</span>.<span class="number">8</span>.<span class="number">1</span>-x64sse42.img /mnt/hqplayer-image</span><br></pre></td></tr></table></figure>

<p>å¤åˆ¶æ–‡ä»¶åˆ°chrootç›®å½•</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æŒ‚è½½çš„å†…å®¹</span></span><br><span class="line">ls -la <span class="regexp">/mnt/</span>hqplayer-image/</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶æ‰€æœ‰æ–‡ä»¶åˆ°chrootç›®å½•ï¼ˆä¿ç•™æƒé™å’Œå±æ€§ï¼‰</span></span><br><span class="line">sudo cp -a <span class="regexp">/mnt/</span>hqplayer-image<span class="regexp">/* /</span>opt<span class="regexp">/hqplayer-chroot/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½é•œåƒ</span></span><br><span class="line">sudo umount <span class="regexp">/mnt/</span>hqplayer-image</span><br></pre></td></tr></table></figure>

<p>4.åˆ›å»ºå¿…è¦çš„ç³»ç»Ÿç›®å½•ï¼š</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p <span class="regexp">/opt/</span>hqplayer-chroot<span class="regexp">/&#123;proc,sys,dev,run,var/</span>lib,etc,tmp&#125;</span><br><span class="line">sudo chmod <span class="number">1777</span> <span class="regexp">/opt/</span>hqplayer-chroot/tmp</span><br></pre></td></tr></table></figure>

<p>5.å¤åˆ¶DNSè§£æé…ç½®ï¼š</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp <span class="regexp">/etc/</span>resolv.conf <span class="regexp">/opt/</span>hqplayer-chroot<span class="regexp">/etc/</span></span><br></pre></td></tr></table></figure>

<p>6.è®© chroot ç¯å¢ƒè®¿é—®ä¸»æœºéŸ³é¢‘è®¾å¤‡<br>é¦–å…ˆè¯†åˆ«éŸ³é¢‘è®¾å¤‡</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨å®¿ä¸»æœºä¸ŠæŸ¥çœ‹æ‰€æœ‰éŸ³é¢‘è®¾å¤‡</span></span><br><span class="line">aplay -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨æ›´è¯¦ç»†çš„æ–¹å¼</span></span><br><span class="line">cat /<span class="keyword">proc</span>/asound/cards</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹<span class="title"> USB</span> éŸ³é¢‘è®¾å¤‡è¯¦æƒ…<span class="title"></span></span><br><span class="line"><span class="title">lsusb</span> |<span class="title"> grep</span> -i<span class="title"> audio</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°æ‚¨çš„éŸ³é¢‘è®¾å¤‡é…ç½®ï¼š</p>
<p>card 0: AB13X USB Audio (USB DAC) - è¿™æ˜¯æ‚¨çš„å¤–éƒ¨USBéŸ³é¢‘è®¾å¤‡</p>
<p>card 1: Ensoniq AudioPCI - è¿™æ˜¯ä¸»æ¿å†…ç½®å£°å¡</p>
<p>ç°åœ¨è®©æˆ‘ä»¬ç¡®ä¿chrootç¯å¢ƒä¸­çš„HQPlayerèƒ½å¤Ÿè®¿é—®è¿™äº›è®¾å¤‡ã€‚</p>
<p>é…ç½®chrootç¯å¢ƒè®¿é—®USB DAC, ä¿®æ”¹å¯åŠ¨è„šæœ¬ç¡®ä¿æ­£ç¡®æ˜ å°„</p>
<h2 id="ç¬¬3æ­¥ï¼šé…ç½®chrootç¯å¢ƒ"><a href="#ç¬¬3æ­¥ï¼šé…ç½®chrootç¯å¢ƒ" class="headerlink" title="ç¬¬3æ­¥ï¼šé…ç½®chrootç¯å¢ƒ"></a>ç¬¬3æ­¥ï¼šé…ç½®chrootç¯å¢ƒ</h2><p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè„šæœ¬æ¥è‡ªåŠ¨æŒ‚è½½å¿…è¦çš„æ–‡ä»¶ç³»ç»Ÿå¹¶è¿›å…¥chrootã€‚</p>
<h2 id="åˆ›å»ºæŒ‚è½½å’Œè¿›å…¥chrootçš„è„šæœ¬ï¼š"><a href="#åˆ›å»ºæŒ‚è½½å’Œè¿›å…¥chrootçš„è„šæœ¬ï¼š" class="headerlink" title="åˆ›å»ºæŒ‚è½½å’Œè¿›å…¥chrootçš„è„šæœ¬ï¼š"></a>åˆ›å»ºæŒ‚è½½å’Œè¿›å…¥chrootçš„è„šæœ¬ï¼š</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /usr/local/bin/start-hqplayer-chroot.sh</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line">HQPLAYER_ROOT=<span class="string">&quot;/opt/hqplayer-chroot&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‚è½½å¿…è¦çš„æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">mount --<span class="built_in">bind</span> /proc <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>/proc&quot;</span></span><br><span class="line">mount --<span class="built_in">bind</span> /sys <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>/sys&quot;</span></span><br><span class="line">mount --<span class="built_in">bind</span> /dev <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>/dev&quot;</span></span><br><span class="line">mount --<span class="built_in">bind</span> /dev/pts <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>/dev/pts&quot;</span></span><br><span class="line">mount --<span class="built_in">bind</span> /dev/snd <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>/dev/snd&quot;</span></span><br><span class="line">mount --<span class="built_in">bind</span> /run <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>/run&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¡®ä¿USBè®¾å¤‡å¯è®¿é—®ï¼ˆé‡è¦ï¼ï¼‰</span></span><br><span class="line">mount --<span class="built_in">bind</span> /dev/bus/usb <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>/dev/bus/usb&quot;</span> 2&gt;/dev/null || <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¡®ä¿ä½¿ç”¨æœ€æ–°çš„DNSé…ç½®</span></span><br><span class="line"><span class="built_in">cp</span> /etc/resolv.conf <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>/etc/resolv.conf&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡ŒHQPlayer</span></span><br><span class="line"><span class="built_in">exec</span> <span class="built_in">chroot</span> <span class="string">&quot;<span class="variable">$HQPLAYER_ROOT</span>&quot;</span> /usr/bin/hqplayerd</span><br></pre></td></tr></table></figure>

<h2 id="åœæ­¢è„šæœ¬"><a href="#åœæ­¢è„šæœ¬" class="headerlink" title="åœæ­¢è„šæœ¬"></a>åœæ­¢è„šæœ¬</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">sudo nano <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>stop-hqplayer-chroot.sh</span><br><span class="line">#!<span class="regexp">/bin/</span>bash</span><br><span class="line">HQPLAYER_ROOT=<span class="string">&quot;/opt/hqplayer-chroot&quot;</span></span><br><span class="line"></span><br><span class="line"># æ€æ­»æ‰€æœ‰hqplayerdè¿›ç¨‹</span><br><span class="line">pkill -<span class="number">9</span> -f <span class="string">&quot;hqplayerd&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="keyword">null</span></span><br><span class="line"></span><br><span class="line"># å¸è½½æ–‡ä»¶ç³»ç»Ÿï¼ˆç¡®ä¿æ­£ç¡®çš„é¡ºåºï¼‰</span><br><span class="line">umount -f <span class="string">&quot;$HQPLAYER_ROOT/dev/bus/usb&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="keyword">null</span></span><br><span class="line">umount -f <span class="string">&quot;$HQPLAYER_ROOT/dev/snd&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="keyword">null</span></span><br><span class="line">umount -f <span class="string">&quot;$HQPLAYER_ROOT/dev/pts&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="keyword">null</span></span><br><span class="line">umount -f <span class="string">&quot;$HQPLAYER_ROOT/dev&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="keyword">null</span></span><br><span class="line">umount -f <span class="string">&quot;$HQPLAYER_ROOT/sys&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="keyword">null</span></span><br><span class="line">umount -f <span class="string">&quot;$HQPLAYER_ROOT/proc&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="keyword">null</span></span><br><span class="line">umount -f <span class="string">&quot;$HQPLAYER_ROOT/run&quot;</span> <span class="number">2</span>&gt;<span class="regexp">/dev/</span><span class="keyword">null</span></span><br><span class="line"></span><br><span class="line">sleep <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>è®¾ç½®æ­£ç¡®çš„æƒé™</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>start-hqplayer-chroot.sh</span><br><span class="line">sudo chmod +x <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>stop-hqplayer-chroot.sh</span><br><span class="line"></span><br><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure>

<p>é‡æ–°åŠ è½½å¹¶æµ‹è¯•æœåŠ¡</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡æ–°åŠ è½½systemdé…ç½®</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰‹åŠ¨æµ‹è¯•å¯åŠ¨è„šæœ¬</span></span><br><span class="line">sudo <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>start-hqplayer-chroot.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥hqplayerdæ˜¯å¦è¿è¡Œ</span></span><br><span class="line">ps aux | grep hqplayerd</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥ç«¯å£ç›‘å¬</span></span><br><span class="line">sudo ss -tlnp | grep :<span class="number">8088</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœè¿è¡Œæ­£å¸¸ï¼Œåœæ­¢å®ƒ</span></span><br><span class="line">sudo <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>stop-hqplayer-chroot.sh</span><br></pre></td></tr></table></figure>

<p>ç³»ç»Ÿä½¿ç”¨çš„æ˜¯ cgroup2ï¼ˆç»Ÿä¸€å±‚æ¬¡ç»“æ„ï¼‰ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„cgroup1ã€‚è¿™å¯èƒ½æ˜¯å¯¼è‡´æœåŠ¡å¯åŠ¨å¤±è´¥çš„åŸå› ï¼Œå› ä¸ºä¸€äº›æ—§çš„åº”ç”¨æˆ–è„šæœ¬å¯èƒ½ä¸å®Œå…¨å…¼å®¹cgroup2ã€‚<br>ç¬¬1æ­¥ï¼šæ£€æŸ¥ç³»ç»Ÿæ˜¯å¦æ”¯æŒcgroup1</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€æŸ¥æ˜¯å¦å¯ç”¨äº†cgroup1å…¼å®¹æ€§</span></span><br><span class="line">cat <span class="regexp">/proc/</span>filesystems | grep cgroup</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å†…æ ¸å¯åŠ¨å‚æ•°</span></span><br><span class="line">cat <span class="regexp">/proc/</span>cmdline</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹systemdæœåŠ¡æ–‡ä»¶ä»¥å…¼å®¹cgroup2"><a href="#ä¿®æ”¹systemdæœåŠ¡æ–‡ä»¶ä»¥å…¼å®¹cgroup2" class="headerlink" title="ä¿®æ”¹systemdæœåŠ¡æ–‡ä»¶ä»¥å…¼å®¹cgroup2"></a>ä¿®æ”¹systemdæœåŠ¡æ–‡ä»¶ä»¥å…¼å®¹cgroup2</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano <span class="regexp">/etc/</span>systemd<span class="regexp">/system/</span>hqplayer-chroot.service</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=HQPlayer Embedded Daemon in Chroot</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"><span class="attr">Requires</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=simple</span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/bin/start-hqplayer-chroot.sh</span><br><span class="line"><span class="attr">ExecStop</span>=/usr/local/bin/stop-hqplayer-chroot.sh</span><br><span class="line"><span class="attr">Restart</span>=<span class="literal">on</span>-failure</span><br><span class="line"><span class="attr">RestartSec</span>=<span class="number">5</span></span><br><span class="line"><span class="attr">TimeoutStartSec</span>=<span class="number">300</span></span><br><span class="line"><span class="attr">TimeoutStopSec</span>=<span class="number">30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é”®é…ç½®ï¼šç¦ç”¨æ‰€æœ‰cgroupç›¸å…³åŠŸèƒ½</span></span><br><span class="line"><span class="attr">Delegate</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">CPUAccounting</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">MemoryAccounting</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">IOAccounting</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">TasksAccounting</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">IPAccounting</span>=<span class="literal">no</span></span><br><span class="line"><span class="attr">BlockIOAccounting</span>=<span class="literal">no</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¿å…cgroup2ç›¸å…³é—®é¢˜</span></span><br><span class="line"><span class="comment">#Slice=</span></span><br><span class="line"><span class="comment">#ControlGroup=</span></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure>

<h2 id="å¯åŠ¨æœåŠ¡å¹¶æ£€æŸ¥"><a href="#å¯åŠ¨æœåŠ¡å¹¶æ£€æŸ¥" class="headerlink" title="å¯åŠ¨æœåŠ¡å¹¶æ£€æŸ¥"></a>å¯åŠ¨æœåŠ¡å¹¶æ£€æŸ¥</h2><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="params">system</span>ctl start hqplayer-chroot.service</span><br><span class="line"><span class="params">system</span>ctl status hqplayer-chroot.service</span><br></pre></td></tr></table></figure>

<p>dnsæˆ–è€…åˆ é™¤ç¬¦å·é“¾æ¥å¹¶åˆ›å»ºå®é™…æ–‡ä»¶</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤ç¬¦å·é“¾æ¥</span></span><br><span class="line">sudo rm <span class="regexp">/opt/</span>hqplayer-chroot<span class="regexp">/etc/</span>resolv.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå®é™…çš„ resolv.conf æ–‡ä»¶</span></span><br><span class="line">sudo cp <span class="regexp">/etc/</span>resolv.conf <span class="regexp">/opt/</span>hqplayer-chroot<span class="regexp">/etc/</span>resolv.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¡®è®¤ç°åœ¨æ˜¯æ™®é€šæ–‡ä»¶</span></span><br><span class="line">ls -la <span class="regexp">/opt/</span>hqplayer-chroot<span class="regexp">/etc/</span>resolv.conf</span><br></pre></td></tr></table></figure>

<h2 id="ç¬¬4æ­¥ï¼šæ‰§è¡Œç²¾ç®€"><a href="#ç¬¬4æ­¥ï¼šæ‰§è¡Œç²¾ç®€" class="headerlink" title="ç¬¬4æ­¥ï¼šæ‰§è¡Œç²¾ç®€"></a>ç¬¬4æ­¥ï¼šæ‰§è¡Œç²¾ç®€</h2><p>é¦–å…ˆæŸ¥çœ‹å½“å‰å¤§å°</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo du -sh /opt/hqplayer-chroot/ <span class="attribute">--exclude</span>=proc <span class="attribute">--exclude</span>=sys <span class="attribute">--exclude</span>=dev <span class="attribute">--exclude</span>=run</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤æœ€å¤§çš„æ–‡ä»¶ï¼ˆé•œåƒæ–‡ä»¶ï¼‰</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤åŸå§‹é•œåƒæ–‡ä»¶ï¼ˆèŠ‚çœæœ€å¤šç©ºé—´ï¼‰</span></span><br><span class="line"><span class="attribute">sudo</span> rm /opt/hqplayer-chroot/hqplayer-embedded-<span class="number">5</span>.<span class="number">8</span>.<span class="number">1</span>-x64sse42.img</span><br><span class="line"><span class="attribute">sudo</span> rm /opt/hqplayer-chroot/hqplayer-embedded-<span class="number">5</span>.<span class="number">8</span>.<span class="number">1</span>-x64sse42.<span class="number">7</span>z</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å¤‡ä»½æ–‡ä»¶ï¼ˆå¦‚æœæœ‰ï¼‰</span></span><br><span class="line"><span class="attribute">sudo</span> rm -rf /opt/hqplayer-chroot-backup <span class="number">2</span>&gt;/dev/null || true</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤firmwareæ–‡ä»¶</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤firmwareï¼ˆé€šå¸¸ä¸éœ€è¦ï¼‰</span></span><br><span class="line">sudo rm -rf <span class="regexp">/opt/</span>hqplayer-chroot<span class="regexp">/lib/</span>firmware</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ç²¾ç®€æ•ˆæœ</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰å¤§å°</span></span><br><span class="line">sudo du -sh <span class="string">/opt/hqplayer-chroot/</span> <span class="params">--exclude=proc</span> <span class="params">--exclude=sys</span> <span class="params">--exclude=dev</span> <span class="params">--exclude=run</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å„ç›®å½•å¤§å°</span></span><br><span class="line">sudo du -sh <span class="string">/opt/hqplayer-chroot/</span>* <span class="params">--exclude=proc</span> <span class="params">--exclude=sys</span> <span class="params">--exclude=dev</span> <span class="params">--exclude=run</span> | sort -hr</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹usrç›®å½•å¤§å°</span></span><br><span class="line">sudo du -sh <span class="string">/opt/hqplayer-chroot/usr/</span>*</span><br></pre></td></tr></table></figure>

<p>éªŒè¯åŠŸèƒ½æ­£å¸¸</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡å¯HQPlayeræœåŠ¡æµ‹è¯•</span></span><br><span class="line">sudo systemctl restart hqplayer-chroot.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æœåŠ¡çŠ¶æ€</span></span><br><span class="line">systemctl status hqplayer-chroot.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•éŸ³é¢‘åŠŸèƒ½</span></span><br><span class="line">sudo chroot <span class="regexp">/opt/</span>hqplayer-chroot aplay -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•ç½‘ç»œåŠŸèƒ½</span></span><br><span class="line">sudo chroot <span class="regexp">/opt/</span>hqplayer-chroot <span class="regexp">/bin/</span>bash -c <span class="string">&quot;ping -c 2 8.8.8.8&quot;</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/a0ae5a65/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/a0ae5a65/" class="post-title-link" itemprop="url">CentOS7 æºç å®‰è£…redis4</a>
        </h2>

        <div class="post-meta-container">

          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-10-22 10:58:39" itemprop="dateCreated datePublished" datetime="2025-10-22T10:58:39+08:00">2025-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-11-02 17:15:11" itemprop="dateModified" datetime="2025-11-02T17:15:11+08:00">2025-11-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/a0ae5a65/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/a0ae5a65/" data-xid="/posts/a0ae5a65/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>2.1k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>2 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="CentOS7-æºç å®‰è£…redis4"><a href="#CentOS7-æºç å®‰è£…redis4" class="headerlink" title="CentOS7 æºç å®‰è£…redis4"></a>CentOS7 æºç å®‰è£…redis4</h1><h2 id="1-å®‰è£…ç¼–è¯‘ä¾èµ–"><a href="#1-å®‰è£…ç¼–è¯‘ä¾èµ–" class="headerlink" title="1. å®‰è£…ç¼–è¯‘ä¾èµ–"></a>1. å®‰è£…ç¼–è¯‘ä¾èµ–</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…å¼€å‘å·¥å…·å’Œä¾èµ–</span></span><br><span class="line">sudo yum groupinstall <span class="string">&quot;Development Tools&quot;</span> -y</span><br><span class="line">sudo yum <span class="keyword">install</span> wget tcl -y</span><br></pre></td></tr></table></figure>

<h2 id="2-ä¸‹è½½å¹¶ç¼–è¯‘-Redis-4"><a href="#2-ä¸‹è½½å¹¶ç¼–è¯‘-Redis-4" class="headerlink" title="2. ä¸‹è½½å¹¶ç¼–è¯‘ Redis 4"></a>2. ä¸‹è½½å¹¶ç¼–è¯‘ Redis 4</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºå®‰è£…ç›®å½•</span></span><br><span class="line">sudo mkdir -p <span class="regexp">/usr/</span>local/redis</span><br><span class="line">cd <span class="regexp">/usr/</span>local/src</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½ Redis 4.0.14ï¼ˆæœ€åä¸€ä¸ª 4.x ç‰ˆæœ¬ï¼‰</span></span><br><span class="line">sudo wget http:<span class="regexp">//</span>download.redis.io<span class="regexp">/releases/</span>redis-<span class="number">4.0</span>.<span class="number">14</span>.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£å‹</span></span><br><span class="line">sudo tar xzf redis-<span class="number">4.0</span>.<span class="number">14</span>.tar.gz</span><br><span class="line">cd redis-<span class="number">4.0</span>.<span class="number">14</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘å®‰è£…</span></span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºé…ç½®ç›®å½•</span></span><br><span class="line">sudo mkdir -p <span class="regexp">/etc/</span>redis</span><br><span class="line">sudo mkdir -p <span class="regexp">/var/</span>lib/redis</span><br><span class="line">sudo mkdir -p <span class="regexp">/var/</span>log/redis</span><br></pre></td></tr></table></figure>

<h2 id="3-é…ç½®-Redis-æœåŠ¡"><a href="#3-é…ç½®-Redis-æœåŠ¡" class="headerlink" title="3. é…ç½® Redis æœåŠ¡"></a>3. é…ç½® Redis æœåŠ¡</h2><h4 id="å¤åˆ¶é…ç½®æ–‡ä»¶"><a href="#å¤åˆ¶é…ç½®æ–‡ä»¶" class="headerlink" title="å¤åˆ¶é…ç½®æ–‡ä»¶"></a>å¤åˆ¶é…ç½®æ–‡ä»¶</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤åˆ¶é…ç½®æ–‡ä»¶</span></span><br><span class="line">sudo cp <span class="regexp">/usr/</span>local<span class="regexp">/src/</span>redis-<span class="number">4.0</span>.<span class="number">14</span><span class="regexp">/redis.conf /</span>etc<span class="regexp">/redis/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶æœåŠ¡è„šæœ¬</span></span><br><span class="line">sudo cp <span class="regexp">/usr/</span>local<span class="regexp">/src/</span>redis-<span class="number">4.0</span>.<span class="number">14</span><span class="regexp">/utils/</span>redis_init_script <span class="regexp">/etc/i</span>nit.d/redis</span><br></pre></td></tr></table></figure>

<h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¼–è¾‘ Redis é…ç½®</span></span><br><span class="line">sudo vim <span class="regexp">/etc/</span>redis/redis.conf</span><br></pre></td></tr></table></figure>

<p>ä¸»è¦ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥å®ˆæŠ¤è¿›ç¨‹æ–¹å¼è¿è¡Œ</span></span><br><span class="line">daemonize <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»‘å®šåœ°å€ï¼ˆå…è®¸è¿œç¨‹è¿æ¥ï¼‰</span></span><br><span class="line"><span class="built_in">bind</span> 0.0.0.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç«¯å£</span></span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®ç›®å½•</span></span><br><span class="line"><span class="built_in">dir</span> /var/lib/redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—æ–‡ä»¶</span></span><br><span class="line">logfile <span class="string">&quot;/var/log/redis/redis.log&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¯†ç ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line"><span class="comment"># requirepass yourpassword</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€å¤§å†…å­˜</span></span><br><span class="line">maxmemory 256mb</span><br><span class="line">maxmemory-policy allkeys-lru</span><br></pre></td></tr></table></figure>

<h4 id="ä¿®æ”¹æœåŠ¡è„šæœ¬"><a href="#ä¿®æ”¹æœåŠ¡è„šæœ¬" class="headerlink" title="ä¿®æ”¹æœåŠ¡è„šæœ¬"></a>ä¿®æ”¹æœåŠ¡è„šæœ¬</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim <span class="regexp">/etc/i</span>nit.d/redis</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä»¥ä¸‹éƒ¨åˆ†ï¼š</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">REDISPORT=<span class="number">6379</span></span><br><span class="line">EXEC=<span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>redis-server</span><br><span class="line">CLIEXEC=<span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>redis-cli</span><br><span class="line">PIDFILE=<span class="regexp">/var/</span>run/redis_<span class="variable">$&#123;REDISPORT&#125;</span>.pid</span><br><span class="line">CONF=<span class="string">&quot;/etc/redis/redis.conf&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="4-åˆ›å»ºç³»ç»ŸæœåŠ¡"><a href="#4-åˆ›å»ºç³»ç»ŸæœåŠ¡" class="headerlink" title="4. åˆ›å»ºç³»ç»ŸæœåŠ¡"></a>4. åˆ›å»ºç³»ç»ŸæœåŠ¡</h2><h4 id="åˆ›å»º-systemd-æœåŠ¡æ–‡ä»¶"><a href="#åˆ›å»º-systemd-æœåŠ¡æ–‡ä»¶" class="headerlink" title="åˆ›å»º systemd æœåŠ¡æ–‡ä»¶"></a>åˆ›å»º systemd æœåŠ¡æ–‡ä»¶</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim <span class="regexp">/etc/</span>systemd<span class="regexp">/system/</span>redis.service</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=Redis persistent key-value database</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span>=forking</span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/bin/redis-server /etc/redis/redis.conf</span><br><span class="line"><span class="attr">ExecStop</span>=/usr/local/bin/redis-cli shutdown</span><br><span class="line"><span class="attr">Restart</span>=always</span><br><span class="line"><span class="attr">User</span>=root</span><br><span class="line"><span class="attr">Group</span>=root</span><br><span class="line"><span class="attr">RuntimeDirectory</span>=redis</span><br><span class="line"><span class="attr">RuntimeDirectoryMode</span>=<span class="number">0755</span></span><br><span class="line"><span class="attr">PIDFile</span>=/var/run/redis_6379.pid</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure>

<h2 id="5-è®¾ç½®æƒé™å’Œå¯åŠ¨æœåŠ¡"><a href="#5-è®¾ç½®æƒé™å’Œå¯åŠ¨æœåŠ¡" class="headerlink" title="5. è®¾ç½®æƒé™å’Œå¯åŠ¨æœåŠ¡"></a>5. è®¾ç½®æƒé™å’Œå¯åŠ¨æœåŠ¡</h2><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º Redis ç”¨æˆ·ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">sudo useradd -r -s /bin/<span class="literal">false</span> redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç›®å½•æƒé™</span></span><br><span class="line">sudo chown -R redis:redis /<span class="keyword">var</span>/lib/redis</span><br><span class="line">sudo chown -R redis:redis /<span class="keyword">var</span>/log/redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°åŠ è½½ systemd</span></span><br><span class="line">sudo <span class="params">system</span>ctl daemon-reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨ Redis æœåŠ¡</span></span><br><span class="line">sudo <span class="params">system</span>ctl start redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¼€æœºè‡ªå¯</span></span><br><span class="line">sudo <span class="params">system</span>ctl enable redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æœåŠ¡çŠ¶æ€</span></span><br><span class="line">sudo <span class="params">system</span>ctl status redis</span><br></pre></td></tr></table></figure>

<h2 id="6-éªŒè¯å®‰è£…"><a href="#6-éªŒè¯å®‰è£…" class="headerlink" title="6.éªŒè¯å®‰è£…"></a>6.éªŒè¯å®‰è£…</h2><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># æ£€æŸ¥ Redis ç‰ˆæœ¬</span></span><br><span class="line">redis-<span class="keyword">cli</span> --version</span><br><span class="line">redis-server --version</span><br><span class="line"></span><br><span class="line"><span class="meta"># æµ‹è¯•è¿æ¥</span></span><br><span class="line">redis-<span class="keyword">cli</span> <span class="built_in">ping</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># å¦‚æœè®¾ç½®äº†å¯†ç </span></span><br><span class="line">redis-<span class="keyword">cli</span> -a yourpassword <span class="built_in">ping</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># æŸ¥çœ‹ Redis ä¿¡æ¯</span></span><br><span class="line">redis-<span class="keyword">cli</span> info server</span><br></pre></td></tr></table></figure>

<h4 id="é˜²ç«å¢™é…ç½®ï¼ˆå¦‚æœéœ€è¦è¿œç¨‹è®¿é—®ï¼‰"><a href="#é˜²ç«å¢™é…ç½®ï¼ˆå¦‚æœéœ€è¦è¿œç¨‹è®¿é—®ï¼‰" class="headerlink" title="é˜²ç«å¢™é…ç½®ï¼ˆå¦‚æœéœ€è¦è¿œç¨‹è®¿é—®ï¼‰"></a>é˜²ç«å¢™é…ç½®ï¼ˆå¦‚æœéœ€è¦è¿œç¨‹è®¿é—®ï¼‰</h4><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€æ”¾ Redis ç«¯å£</span></span><br><span class="line">sudo firewall-<span class="keyword">cmd</span><span class="language-bash"> --permanent --add-port=6379/tcp</span></span><br><span class="line">sudo firewall-<span class="keyword">cmd</span><span class="language-bash"> --reload</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/701fa192/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/701fa192/" class="post-title-link" itemprop="url">mac10.15 ä¸‹ git2.33 å®‰è£… git-gui</a>
        </h2>

        <div class="post-meta-container">

          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-10-11 18:48:44" itemprop="dateCreated datePublished" datetime="2025-10-11T18:48:44+08:00">2025-10-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-11-02 17:15:11" itemprop="dateModified" datetime="2025-11-02T17:15:11+08:00">2025-11-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/701fa192/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/701fa192/" data-xid="/posts/701fa192/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>763</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="mac10-15-ä¸‹-git2-33-å®‰è£…-git-gui"><a href="#mac10-15-ä¸‹-git2-33-å®‰è£…-git-gui" class="headerlink" title="mac10.15 ä¸‹ git2.33 å®‰è£… git-gui"></a>mac10.15 ä¸‹ git2.33 å®‰è£… git-gui</h1><h2 id="1-è½¯ä»¶ç‰ˆæœ¬"><a href="#1-è½¯ä»¶ç‰ˆæœ¬" class="headerlink" title="1.è½¯ä»¶ç‰ˆæœ¬"></a>1.è½¯ä»¶ç‰ˆæœ¬</h2><p>macOSç³»ç»Ÿï¼š10.15.7</p>
<p>Gitï¼š2.33.0</p>
<p>Git-guiï¼š2.42.1</p>
<p>Tcl-tkï¼š8.6.12</p>
<h2 id="2-ç¯å¢ƒå®‰è£…"><a href="#2-ç¯å¢ƒå®‰è£…" class="headerlink" title="2.ç¯å¢ƒå®‰è£…"></a>2.ç¯å¢ƒå®‰è£…</h2><ol>
<li>Mac10.15å®‰è£…git2.33çš„dmgåŒ…</li>
</ol>
<p>git2.33ä¸‹è½½é“¾æ¥<a target="_blank" rel="noopener" href="https://mirrors.huaweicloud.com/git-for-macos/git-2.33.0-intel-universal-mavericks.dmg">git-2.33.0-intel-universal-mavericks.dmg (huaweicloud.com)</a></p>
<ol start="2">
<li>Tcl-tkç¯å¢ƒå®‰è£…</li>
</ol>
<p><code>git-gui 2.42.1</code>ä¾èµ–tcl-tk@8ç‰ˆæœ¬çš„UIåº“ï¼Œä½¿ç”¨<code>brew install tcl-tk@8</code>å®‰è£…ã€‚</p>
<p>è®°ä½<code>tcl-tk@8</code>çš„å®‰è£…ç›®å½•ï¼Œä¸‹é¢éœ€è¦ç”¨åˆ°ã€‚brewå®‰è£…çš„é»˜è®¤ç›®å½•ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/Cellar/tcl-tk@8</span><br></pre></td></tr></table></figure>



<h2 id="3-å®‰è£…git-gui-2-42-1"><a href="#3-å®‰è£…git-gui-2-42-1" class="headerlink" title="3.å®‰è£…git-gui 2.42.1"></a>3.å®‰è£…git-gui 2.42.1</h2><ol>
<li>brew ä¸æ”¯æŒæ—§ç‰ˆgit-guiå®‰è£…äº†ï¼Œéœ€è¦åˆ°git-guiä»“åº“ä¸‹è½½<code>2.42.1</code>ç‰ˆæœ¬çš„ <code>git-gui.rb</code>æ–‡ä»¶</li>
</ol>
<p>è¿™æ˜¯ä¸‹è½½é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://github.com/Homebrew/homebrew-core/commits/3831c91a4807c802fe1db291af9682d89ed566f1/Formula/g/git-gui.rb?after=3831c91a4807c802fe1db291af9682d89ed566f1+34">git-gui.rb</a>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/10/11/EWBlLL.png"></p>
<p>æ–‡ä»¶ä¸‹è½½å®Œï¼Œå¦‚æœä¸‹è½½ç›®å½•åœ¨<code>~/Download</code>é‡Œï¼Œå°±ç”¨<code>brew install ~/Download/git-gui.rb</code>å®‰è£…ã€‚</p>
<ol start="2">
<li>git-guiå®‰è£…å®Œï¼Œå¯èƒ½æŠ¥<code>git-gui ä¾èµ–tcl-tk 8.5,ç°åœ¨ä½¿ç”¨çš„æ˜¯9.0ç‰ˆæœ¬</code>çš„é”™è¯¯ã€‚</li>
</ol>
<p>ä½¿ç”¨ä»¥ä¸‹2æ¡æŒ‡ä»¤è§£å†³ï¼Œè¿™é‡Œå°±è¦ç”¨åˆ°ä¸Šé¢ç¬¬2æ­¥<code>tcl-tk@8</code>çš„å®‰è£…ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo sed -i <span class="string">&#x27;&#x27;</span> <span class="string">&#x27;1s|.*|#!/usr/local/Cellar/tcl-tk@8/8.6.17/bin/wish8.6|&#x27;</span> /usr/local/bin/git-gui</span><br><span class="line">sudo sed -i <span class="string">&#x27;&#x27;</span> <span class="string">&#x27;1s|.*|#!/usr/local/Cellar/tcl-tk@8/8.6.17/bin/wish8.6|&#x27;</span> /usr/local/bin/gitk</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/42c28135/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/42c28135/" class="post-title-link" itemprop="url">parallels Desktopå…±äº«æœ¬æœºç›®å½•ç»™è™šæ‹Ÿæœº</a>
        </h2>

        <div class="post-meta-container">

          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-10-04 10:30:39 / ä¿®æ”¹æ—¶é—´ï¼š10:38:21" itemprop="dateCreated datePublished" datetime="2025-10-04T10:30:39+08:00">2025-10-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/42c28135/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/42c28135/" data-xid="/posts/42c28135/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>1.2k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="parallels-desktop-linuxå…±äº«æ–‡ä»¶å¤¹-Parallels-Desktopå…±äº«æœ¬æœºç›®å½•ç»™è™šæ‹Ÿæœº"><a href="#parallels-desktop-linuxå…±äº«æ–‡ä»¶å¤¹-Parallels-Desktopå…±äº«æœ¬æœºç›®å½•ç»™è™šæ‹Ÿæœº" class="headerlink" title="parallels+desktop+linuxå…±äº«æ–‡ä»¶å¤¹,Parallels Desktopå…±äº«æœ¬æœºç›®å½•ç»™è™šæ‹Ÿæœº"></a>parallels+desktop+linuxå…±äº«æ–‡ä»¶å¤¹,Parallels Desktopå…±äº«æœ¬æœºç›®å½•ç»™è™šæ‹Ÿæœº</h1><p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†åœ¨CentOS7è™šæ‹Ÿæœºç¯å¢ƒä¸­å®‰è£…ParallelsToolsçš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬è®¾ç½®CD&#x2F;DVDæºã€è°ƒæ•´å¯åŠ¨é¡ºåºåŠæ‰‹åŠ¨æŒ‚è½½é•œåƒæ–‡ä»¶ç­‰æ­¥éª¤ï¼Œå¹¶æä¾›äº†å‡çº§ParallelsToolsçš„æ–¹æ³•ã€‚</p>
<p>æˆ‘çš„è™šæ‹Ÿæœºç¯å¢ƒï¼šcentOS7</p>
<p>éœ€è¦å…ˆå®‰è£…Parallels Tools</p>
<p>å…ˆåœæ­¢centoså¹¶è®¾ç½®cd&#x2F;dvdæº</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/10/04/dakxNk.png" alt="8ca47c6e08db940329488b788cd0968e.png"></p>
<p>Parallels Toolsé•œåƒæ–‡ä»¶åœ¨ ä½ç½® &#x2F;Applications&#x2F;Parallels Desktop.app&#x2F;Contents&#x2F;Resources&#x2F;Tools&#x2F;</p>
<p>Parallels ToolsåŒºåˆ†å¤šä¸ªå¹³å°(windows,mac,linux)</p>
<p>ç”±äºç”¨çš„æ˜¯centOSï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹© prl-tools-lin.iso</p>
<p>è¿›å…¥å®‰è£…Parallels Toolsæµç¨‹çš„æ–¹æ³•</p>
<p>æ–¹æ³•ä¸€ï¼šåœ¨Virtual Machineä¸Šç‚¹å‡» å®‰è£… Parallels Tools (æœ‰æ—¶å€™ä¼šä¸ç”Ÿæ•ˆï¼Œå»ºè®®ä½¿ç”¨æ–¹æ³•äºŒ)</p>
<p>æ–¹æ³•äºŒï¼šè°ƒæ•´å¯åŠ¨é¡ºåºï¼ŒæŠŠCD&#x2F;DVDè°ƒåˆ°ç¬¬ä¸€ä½ï¼Œæ¥ç€æ˜¯ç¡¬ç›˜ï¼Œç„¶årebooté‡å¯è™šæ‹Ÿæœº</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/10/04/p7ws4A.png" alt="6a2b4247e3cb0a8a7987a490d8b85b13.png"></p>
<p>cd &#x2F;media</p>
<p>ls</p>
<p>æ­¤æ—¶çœ‹ä¸åˆ°ä»»ä½•å†…å®¹</p>
<p>æ‰‹åŠ¨åˆ›å»º</p>
<p>mkdir cdrom</p>
<p>å†æŒ‚è½½åˆ°cdrom</p>
<p>mount -o exec &#x2F;dev&#x2F;cdrom &#x2F;media&#x2F;cdrom</p>
<p>(è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯&#x2F;dev&#x2F;cdromæ˜¯å¦å­˜åœ¨ï¼Œæœ‰æ—¶æ˜¯cdrom1)</p>
<p>æ­¤æ—¶çœ‹åˆ° mount: block device &#x2F;dev&#x2F;sr0 is write-protected, mounting read-only æç¤ºè¯´æ˜æŒ‚è½½æˆåŠŸ</p>
<p>cd &#x2F;media&#x2F;cdrom</p>
<p>ls</p>
<p>å¯ä»¥çœ‹åˆ°â€˜ install installer install-gui kmods tools version â€™ç­‰æ–‡ä»¶</p>
<p>æ‰§è¡Œå®‰è£…</p>
<p>.&#x2F;install</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/10/04/KmAWz6.png" alt="dd44b494d24d4c3a48d02435c541d484.png"></p>
<p>ç­‰å¾…å®‰è£…å®Œæˆå³å¯</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/10/04/6rHyNH.png" alt="ab2391807425d4e7f58ed6f55dec6f55.png"></p>
<p>åœ¨Parallels Desktopèœå•æ å…ˆåœæ­¢è¯¥è™šæ‹Ÿæœº</p>
<p>è®¾ç½®æœ¬æœºå…±äº«æ–‡ä»¶å¤¹</p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/10/04/GxCYKE.png" alt="55239c1dca6e8b1b3f229751488bc1ad.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/10/04/onHx1W.png" alt="97562408f5e1fddbae3db6c6d209ff28.png"></p>
<p>è®¾ç½®å®Œå…±äº«ç›®å½•å†é‡å¯è¯¥è™šæ‹Ÿæœº</p>
<p>cd &#x2F;media&#x2F;psf</p>
<p>ls</p>
<p>å³å¯çœ‹åˆ°æœ¬æœºå…±äº«çš„æ–‡ä»¶å¤¹</p>
<p>å»ºç«‹è½¯è¿æ¥</p>
<p>ä¸€èˆ¬ä¸ºäº†æ–¹ä¾¿è®¿é—®ï¼Œæˆ‘éƒ½æ˜¯é€šè¿‡&#x2F;websiteæ¥è®¿é—®æœ¬æœºçš„å…±äº«æ–‡ä»¶å¤¹çš„</p>
<p>ln -s &#x2F;media&#x2F;psf&#x2F;website &#x2F;</p>
<p>cd &#x2F;</p>
<p>ls</p>
<p>çœ‹åˆ°websiteå°±ç®—å»ºç«‹è¿æ¥äº†ã€‚</p>
<p>å¦‚æœå‡çº§äº†Parallels Desktopç‰ˆæœ¬ï¼Œé‚£ä¹ˆä¹Ÿè¦å¯¹åº”å‡çº§Parallels Toolsï¼Œå‡çº§Parallels Toolsçš„æ–¹æ³•è·Ÿå‰é¢å®‰è£…Parallels Toolsçš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œç•Œé¢ä¼šæç¤ºè¿›è¡Œçš„æ“ä½œæ˜¯upgrade</p>
<p>æ­£å¸¸ä½¿ç”¨å»ºè®®æ”¹æˆä¼˜å…ˆç¡¬ç›˜å¯åŠ¨</p>
<p>è¯¦æƒ…å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£</p>

      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/67da8aa2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/67da8aa2/" class="post-title-link" itemprop="url">ä½¿ç”¨ SSH config ç®€åŒ– SSH è¿æ¥</a>
        </h2>

        <div class="post-meta-container">

          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-09-15 06:06:00 / ä¿®æ”¹æ—¶é—´ï¼š18:29:42" itemprop="dateCreated datePublished" datetime="2025-09-15T06:06:00+08:00">2025-09-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/67da8aa2/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/67da8aa2/" data-xid="/posts/67da8aa2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>3.5k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>3 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ä½¿ç”¨-SSH-config-ç®€åŒ–-SSH-è¿æ¥"><a href="#ä½¿ç”¨-SSH-config-ç®€åŒ–-SSH-è¿æ¥" class="headerlink" title="ä½¿ç”¨ SSH config ç®€åŒ– SSH è¿æ¥"></a>ä½¿ç”¨ SSH config ç®€åŒ– SSH è¿æ¥</h1><p>å¦‚æœä½ æœ‰å¾ˆå¤šçš„æœåŠ¡å™¨è¦è¿æ¥ï¼Œå¦‚æœå¯¹ä½ æ¥è¯´è®°ä½é‚£äº›æœåŠ¡å™¨çš„åœ°å€ã€ç«¯å£å®åœ¨æ˜¯ä¸€ç§ç—›è‹¦ï¼Œå¦‚æœä½ ä¸€ç›´åœ¨å¯»æ‰¾ä¸€ç§èƒ½å¤Ÿç®€åŒ–åœ¨å‘½ä»¤è¡Œä¸‹è¿æ¥ SSH æœåŠ¡å™¨çš„åŠæ³•ï¼Œé‚£ä¹ˆï¼Œæœ¬æ–‡å°†ç»™ä½ æä¾›ä¸€ç§è§£å†³é—®é¢˜çš„æ€è·¯ï¼Œé‚£å°±æ˜¯ï¼Œä½¿ç”¨ SSH çš„ config æ–‡ä»¶ã€‚</p>
<h2 id="SSH-config-æ–‡ä»¶æ˜¯ä»€ä¹ˆ"><a href="#SSH-config-æ–‡ä»¶æ˜¯ä»€ä¹ˆ" class="headerlink" title="SSH config æ–‡ä»¶æ˜¯ä»€ä¹ˆ"></a>SSH config æ–‡ä»¶æ˜¯ä»€ä¹ˆ</h2><p>Open SSH å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ï¼Œå…è®¸ä½ ä»¥é…ç½®é¡¹çš„å½¢å¼ï¼Œè®°å½•å„ä¸ªæœåŠ¡å™¨çš„è¿æ¥ä¿¡æ¯ï¼Œå¹¶å…è®¸ä½ ä½¿ç”¨ä¸€ä¸ªå®šä¹‰å¥½çš„åˆ«åæ¥ä»£æ›¿å…¶å¯¹åº”çš„ ssh å‘½ä»¤å‚æ•°ã€‚</p>
<h2 id="SSH-config-æ–‡ä»¶è¯¥æ€ä¹ˆç”¨"><a href="#SSH-config-æ–‡ä»¶è¯¥æ€ä¹ˆç”¨" class="headerlink" title="SSH config æ–‡ä»¶è¯¥æ€ä¹ˆç”¨"></a>SSH config æ–‡ä»¶è¯¥æ€ä¹ˆç”¨</h2><h3 id="åˆ›å»º-SSH-config-æ–‡ä»¶"><a href="#åˆ›å»º-SSH-config-æ–‡ä»¶" class="headerlink" title="åˆ›å»º SSH config æ–‡ä»¶"></a>åˆ›å»º SSH config æ–‡ä»¶</h3><p>é€šå¸¸æ¥è¯´ï¼Œè¯¥æ–‡ä»¶ä¼šå‡ºç°åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯<code>/etc/ssh/ssh_config</code>ï¼Œä¸€ä¸ªæ˜¯<code>~/.ssh/config</code>ã€‚</p>
<p><code>/etc/ssh/ssh_config</code>æ–‡ä»¶é€šå¸¸ç”¨æ¥å®šä¹‰å…¨å±€èŒƒå›´ä¸Šçš„ SSH å®¢æˆ·ç«¯å‚æ•°ï¼Œè€Œ<code>~/.ssh/config</code>åˆ™è¢«ç”¨æ¥å®šä¹‰æ¯ä¸ªç”¨æˆ·è‡ªå·±çš„ SSH å®¢æˆ·ç«¯çš„é…ç½®ã€‚æˆ‘ä»¬å°†è¦ä¿®æ”¹çš„ï¼Œå°±æ˜¯ä½äºç”¨æˆ·ç›®å½•ä¸‹çš„ config æ–‡ä»¶ã€‚</p>
<p>å¦‚æœ<code>~/.ssh/config</code>æ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¹Ÿä¸ç”¨ç€æ€¥ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼Œåªéœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå³å¯æ–°å»ºä¸€ä¸ªç©ºç™½çš„ config æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º .ssh ç›®å½•ï¼ˆå¦‚æœå·²å­˜åœ¨ï¼Œä¼šæç¤ºæ²¡å…³ç³»ï¼‰</span></span><br><span class="line"><span class="built_in">mkdir</span> -p ~/.ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ­£ç¡®çš„æƒé™ï¼ŒSSH å¯¹æ–‡ä»¶æƒé™éå¸¸ä¸¥æ ¼</span></span><br><span class="line"><span class="built_in">chmod</span> 700 ~/.ssh</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º config æ–‡ä»¶ï¼ˆæˆ–ç¼–è¾‘å·²å­˜åœ¨çš„ï¼‰</span></span><br><span class="line"><span class="built_in">touch</span> ~/.ssh/config</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½® config æ–‡ä»¶çš„æƒé™</span></span><br><span class="line"><span class="built_in">chmod</span> 600 ~/.ssh/config</span><br></pre></td></tr></table></figure>

<h3 id="åœ¨æœ¬åœ°ç”µè„‘ä¸Šç”Ÿæˆä¸€ä¸ª-RSA-ç±»å‹çš„å¯†é’¥å¯¹"><a href="#åœ¨æœ¬åœ°ç”µè„‘ä¸Šç”Ÿæˆä¸€ä¸ª-RSA-ç±»å‹çš„å¯†é’¥å¯¹" class="headerlink" title="åœ¨æœ¬åœ°ç”µè„‘ä¸Šç”Ÿæˆä¸€ä¸ª RSA ç±»å‹çš„å¯†é’¥å¯¹"></a>åœ¨æœ¬åœ°ç”µè„‘ä¸Šç”Ÿæˆä¸€ä¸ª <strong>RSA</strong> ç±»å‹çš„å¯†é’¥å¯¹</h3><p>ç”Ÿæˆä¸€ä¸ª <strong>RSA</strong> ç±»å‹çš„å¯†é’¥å¯¹ï¼ŒåŒ…å«ä¸€ä¸ªç§é’¥ï¼ˆ<code>id_rsa</code>.centosï¼‰å’Œä¸€ä¸ªå…¬é’¥ï¼ˆ<code>id_rsa.centos.pub</code>ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 2048 -C <span class="string">&quot;centos&quot;</span> -f ~/.ssh/id_rsa.centos</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œåä¼šè¯¢é—®ä½ ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li><strong>å¯†é’¥ä¿å­˜è·¯å¾„</strong>ï¼ˆé»˜è®¤ä¸º <code>~/.ssh/</code>ï¼‰</li>
<li><strong>å¯†é’¥çš„å¯†ç ï¼ˆPassphraseï¼‰</strong>ï¼ˆæ¨èè®¾ç½®ï¼Œå¯ä¸ºç©ºç›´æ¥å›è½¦ï¼‰</li>
<li><strong>ç¡®è®¤å¯†ç </strong></li>
</ol>
<p><strong>ç”ŸæˆæˆåŠŸ</strong>åï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved <span class="keyword">in</span> /home/your_user/.ssh/id_ed25519_github</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /home/your_user/.ssh/id_ed25519_github.pub</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:2fLsxGsdHPrqF1qC0Wkj2sSfKkLwHnTZ1pVXyMzA1Bc user@host</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+--[ED25519 256]--+</span></span><br><span class="line"><span class="string">|         .o      |</span></span><br><span class="line"><span class="string">|        . o .    |</span></span><br><span class="line"><span class="string">|       . o o .   |</span></span><br><span class="line"><span class="string">|        o o o . .|</span></span><br><span class="line"><span class="string">|       .S o o o.o|</span></span><br><span class="line"><span class="string">|      . .+ . .+*+|</span></span><br><span class="line"><span class="string">|       .+.o.+o=*+|</span></span><br><span class="line"><span class="string">|      .o+o+.o+o+E|</span></span><br><span class="line"><span class="string">|      .oo++...oo.|</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br></pre></td></tr></table></figure>

<h3 id="ç”Ÿæˆåçš„æ–‡ä»¶ä¸ç®¡ç†"><a href="#ç”Ÿæˆåçš„æ–‡ä»¶ä¸ç®¡ç†" class="headerlink" title="ç”Ÿæˆåçš„æ–‡ä»¶ä¸ç®¡ç†"></a>ç”Ÿæˆåçš„æ–‡ä»¶ä¸ç®¡ç†</h3><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œåœ¨ä½ çš„ <code>~/.ssh/</code> ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li><code>id_rsa.centos</code>ï¼šè¿™æ˜¯<strong>ç§é’¥</strong>ã€‚<ul>
<li><strong>å¿…é¡»åƒä¿æŠ¤å¯†ç ä¸€æ ·ä¿æŠ¤å®ƒï¼</strong></li>
<li>æƒé™å¿…é¡»æ˜¯ <code>600</code>ï¼ˆ<code>-rw-------</code>ï¼‰ã€‚SSH å®¢æˆ·ç«¯ä¼šæ‹’ç»æƒé™è¿‡å®½çš„ç§é’¥ã€‚</li>
</ul>
</li>
<li><code>id_rsa.centos.pub</code>ï¼šè¿™æ˜¯<strong>å…¬é’¥</strong>ã€‚<ul>
<li>è¿™ä¸ªæ–‡ä»¶<strong>å¯ä»¥éšä¾¿åˆ†å‘</strong>ï¼Œå®ƒçš„å†…å®¹éœ€è¦ä¸Šä¼ åˆ°ä½ éœ€è¦è¿æ¥çš„è¿œç¨‹æœåŠ¡å™¨ä¸Šã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¡®ä¿ç§é’¥çš„æƒé™æ­£ç¡®ï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 600 ~/.ssh/id_rsa.centos</span><br></pre></td></tr></table></figure>

<h3 id="åˆ†å‘å…¬é’¥"><a href="#åˆ†å‘å…¬é’¥" class="headerlink" title="åˆ†å‘å…¬é’¥"></a>åˆ†å‘å…¬é’¥</h3><p>å°†å…¬é’¥æ–‡ä»¶ï¼ˆ<code>.pub</code> åç¼€ï¼‰çš„å†…å®¹å¤åˆ¶ç²˜è´´æ·»åŠ åˆ°è¿œç¨‹æœåŠ¡å™¨çš„ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶çš„æœ«å°¾ã€‚</p>
<p><strong>ç¡®ä¿è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æƒé™æ­£ç¡®ï¼š</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š</span></span><br><span class="line"><span class="built_in">chmod</span> 700 ~/.ssh</span><br><span class="line"><span class="built_in">chmod</span> 600 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>

<h2 id="ç¼–å†™-config-æ¡ç›®"><a href="#ç¼–å†™-config-æ¡ç›®" class="headerlink" title="ç¼–å†™ config æ¡ç›®"></a>ç¼–å†™ config æ¡ç›®</h2><p>å‡å¦‚è¯´ï¼Œæˆ‘ä»¬æƒ³è¿æ¥åˆ°ä¸€å°æœåŠ¡å™¨ï¼Œå®ƒçš„åœ°å€æ˜¯ example.server.comï¼Œç«¯å£å·æ˜¯ 2222ï¼Œä»¥ç”¨æˆ· root ç™»é™†ï¼Œå¹¶ä½¿ç”¨~&#x2F;.ssh&#x2F;id_rsa_myserver è¿™ä¸ªç§é’¥éªŒè¯èº«ä»½ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@example<span class="selector-class">.server</span><span class="selector-class">.com</span> -<span class="selector-tag">p</span> <span class="number">2222</span> -<span class="selector-tag">i</span> ~/.ssh/id_rsa_myserver</span><br></pre></td></tr></table></figure>

<p>å—¯å¥½å§ï¼Œ-i å‚æ•°å¯ä»¥çœç•¥ï¼Œä½†å³ä½¿è¿™æ ·ï¼Œå‘½ä»¤è¿˜æ˜¯å¾ˆé•¿ï¼Œå¯¹å§ï¼Ÿ</p>
<p>é‚£ä¹ˆæˆ‘ä»¬æŠŠè¿™ä¸ªæœåŠ¡å™¨çš„è¿æ¥å‚æ•°å†™åˆ° config æ–‡ä»¶é‡Œï¼Œå°±å˜æˆäº†è¿™ä¸ªæ ·å­ï¼š</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ­¤å¤„æˆ‘ä¸ºäº†ç¾è§‚èµ·è§ï¼Œç»™æ¯ä¸ªå­æ¡ç›®éƒ½ç¼©è¿›äº†ä¸€å±‚ï¼Œå®é™…ä½¿ç”¨æ—¶ç¼©è¿›ä¸å½±å“æ–‡ä»¶çš„æ•ˆæœã€‚</span></span><br><span class="line"></span><br><span class="line">Host example <span class="regexp">//</span>èµ·åˆ«å</span><br><span class="line">    Hostname        example.server.com</span><br><span class="line">    Port            <span class="number">2222</span></span><br><span class="line">    User            admin</span><br><span class="line">    Identityfile    ~<span class="regexp">/.ssh/i</span>d_rsa</span><br></pre></td></tr></table></figure>

<p>å—¯ï¼Œåœ¨è¿™é‡Œï¼Œå®ƒè¿˜æœ‰äº†ä¸€ä¸ªæ–°åå­—ï¼Œå«<code>example</code>ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬åªéœ€è¦ï¼š</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh example</span></span><br></pre></td></tr></table></figure>

<p>å°±å¯ä»¥è¿æ¥åˆ°è¿™å°ä¸»æœºäº†ã€‚</p>
<hr>
<p>çœ‹åˆ°è¿™é‡Œå°±èƒ½å®ç°ä½¿ç”¨ SSH configè¿æ¥ä¸»æœºäº†ï¼Œä»¥ä¸‹å†…å®¹ä¸ºæ‰©å±•å†…å®¹ã€‚</p>
<h2 id="åˆ›å»ºé€šé…ç¬¦è§„åˆ™"><a href="#åˆ›å»ºé€šé…ç¬¦è§„åˆ™" class="headerlink" title="åˆ›å»ºé€šé…ç¬¦è§„åˆ™"></a>åˆ›å»ºé€šé…ç¬¦è§„åˆ™</h2><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è¿æ¥å¤šå°ä¸åŒçš„ä¸»æœºï¼Œé‚£éš¾é“æˆ‘ä»¬éœ€è¦é’ˆå¯¹æ¯ä¸ªä¸»æœºéƒ½å†™ä¸€éè§„åˆ™å—ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ä¸ä¸€å®šã€‚å¦‚æœä½ è¦è¿æ¥çš„ä¸»æœºï¼Œå®ƒä»¬çš„åŸŸåæœ‰ä¸€å®šè§„å¾‹å¯å¾ªï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨é€šé…ç¬¦æ¥åŒ¹é…è¿™ä¸€ç³»åˆ—çš„ä¸»æœºã€‚</p>
<p>æ¯”å¦‚ï¼Œå…¬å¸é‡Œé’ˆå¯¹å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒï¼Œå„åˆ›å»ºäº†ä¸€ç³»åˆ—é›†ç¾¤ï¼ŒåŒæ—¶å„ä¸ªé›†ç¾¤ä¸­åˆæ ¹æ®è´Ÿè´£çš„ä¸šåŠ¡ä¸åŒï¼Œæœ‰å¤šå°è´Ÿè½½å‡è¡¡çš„ä¸»æœºï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¦–å…ˆåŒ¹é…æ‰€æœ‰ä¸»æœºï¼Œåœ¨è¿™é‡Œé…ç½®å¥½æˆ‘ä»¬çš„ç”¨æˆ·åã€ç§é’¥ç­‰å‚æ•°</span></span><br><span class="line">Host *</span><br><span class="line">    <span class="keyword">User</span>            <span class="title">boris1993</span></span><br><span class="line">    IdentityFile    ~/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å‘ç¯å¢ƒ</span></span><br><span class="line">Host dev-*</span><br><span class="line">    HostName    %h.dev.mycompany.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># æµ‹è¯•ç¯å¢ƒ</span></span><br><span class="line">Host staging-*</span><br><span class="line">    HostName    %h.staging.mycompany.com</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰§è¡Œç±»ä¼¼<code>ssh dev-user</code>ï¼Œå°±å¯ä»¥è¿æ¥åˆ°å¼€å‘ç¯å¢ƒçš„è´Ÿè´£ç”¨æˆ·ç®¡ç†çš„æœåŠ¡å™¨ä¸Šäº†ã€‚</p>
<p>è€Œå®ç°è¿™ä¸ªæ“ä½œçš„é‡ç‚¹ï¼Œæˆ‘æƒ³ä½ å·²ç»æ³¨æ„åˆ°äº†ï¼Œä¸€ä¸ªæ˜¯<code>Host</code>é…ç½®ä¸­çš„<code>*</code>ï¼Œå¦ä¸€ä¸ªå°±æ˜¯é…ç½®æ–‡ä»¶é‡Œé¢çš„<code>%h</code>ã€‚æ˜Ÿå·æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ˜¯ä¸ªé€šé…ç¬¦ï¼Œæ”¾åœ¨è¿™é‡Œå°±æ„å‘³ç€å®ƒä¼šåŒ¹é…æ‰€æœ‰ä»¥<code>dev-*</code>å¼€å¤´çš„ä¸»æœºåï¼›è€Œ<code>%h</code>æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå®ƒä¼šæŠŠä½ åœ¨<code>SSH</code>å‘½ä»¤ä¸­<code>destination</code>éƒ¨åˆ†çš„è¾“å…¥å–å‡ºæ¥æ”¾åœ¨è¿™é‡Œï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æ‰§è¡Œ<code>ssh dev-user</code>çš„æ—¶å€™ï¼Œå®é™…ä¸Šå‘½ä»¤ä¼šè¢«å±•å¼€æˆ<code>ssh dev-user.dev.mycompany.com</code>ã€‚</p>
<h2 id="é…ç½®é€šè¿‡è·³æ¿æœºè¿æ¥"><a href="#é…ç½®é€šè¿‡è·³æ¿æœºè¿æ¥" class="headerlink" title="é…ç½®é€šè¿‡è·³æ¿æœºè¿æ¥"></a>é…ç½®é€šè¿‡è·³æ¿æœºè¿æ¥</h2><p>å¦‚æœå…¬å¸è§„å®šæ‰€æœ‰æœåŠ¡å™¨éƒ½éœ€è¦å…ˆ<code>SSH</code>åˆ°è·³æ¿æœºï¼Œç„¶åæ‰èƒ½è¿æ¥åˆ°å…·ä½“çš„æœåŠ¡å™¨ï¼Œé‚£è¯¥æ€ä¹ˆåŠï¼ŸæŠŠ<code>ssh_config</code>æ–‡ä»¶æ”¾åœ¨è·³æ¿æœºä¸Šå—ï¼Ÿ</p>
<p>ç¡®å®è¿™æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œä½†ä¸æ˜¯å”¯ä¸€è§£ã€‚å› ä¸ºæˆ‘ä»¬è¿˜æœ‰ä¸€ä¸ªé…ç½®å‚æ•°å«<code>ProxyJump</code>ã€‚å®ƒï¼Œå°±æ˜¯ç”¨æ¥æŒ‡å®šï¼Œåœ¨è¿æ¥è¿™ä¸ªæœåŠ¡å™¨ä¹‹å‰ï¼Œéœ€è¦é€šè¿‡å“ªä¸ªè·³æ¿æœºã€‚</p>
<p>å†™èµ·æ¥ï¼Œæ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…¶ä»–éƒ¨åˆ†ç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³æ¿æœº</span></span><br><span class="line">Host <span class="keyword">bastion</span></span><br><span class="line"><span class="keyword"></span>    HostName    <span class="keyword">bastion.mycompany.com</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="comment"># æœåŠ¡å™¨</span></span><br><span class="line">Host dev-*</span><br><span class="line">    HostName    %h.dev.mycompany.com </span><br><span class="line">    ProxyJump   <span class="keyword">bastion</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ çš„<code>SSH</code>ç‰ˆæœ¬æ—©äº 7.3ï¼Œé‚£ä¹ˆå¾ˆå¯æƒœå®ƒæ˜¯ä¸æ”¯æŒ<code>ProxyJump</code>è¿™æ¡é…ç½®çš„ã€‚ä½†æ˜¯ä¸è¦ç°å¿ƒï¼Œå®ƒæ”¯æŒå¦ä¸€æ¡é…ç½®ï¼Œ<code>ProxyCommand</code>ã€‚</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…¶ä»–éƒ¨åˆ†ç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³æ¿æœº</span></span><br><span class="line">Host <span class="keyword">bastion</span></span><br><span class="line"><span class="keyword"></span>    HostName    <span class="keyword">bastion.mycompany.com</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="comment"># æœåŠ¡å™¨</span></span><br><span class="line">Host dev-*</span><br><span class="line">    HostName        %h.dev.mycompany.com </span><br><span class="line">    ProxyCommand    ssh -W %h:%p <span class="keyword">bastion </span></span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæˆ‘ä»¬ç»§ç»­æ‰§è¡Œ<code>ssh dev-user</code>å°±å¯ä»¥äº†ï¼Œ<code>SSH</code>ä¼šè‡ªåŠ¨å…ˆè¿æ¥åˆ°è·³æ¿æœºï¼Œç„¶ååœ¨è·³æ¿æœºä¸­å†è¿æ¥åˆ°æˆ‘ä»¬è¦å»çš„æœåŠ¡å™¨ã€‚</p>
<p>å¦‚æœä½ ä»¬å…¬å¸å®‰å…¨åšçš„éå¸¸å¥½ï¼Œéœ€è¦é€šè¿‡æ•°ä¸ªè·³æ¿æœºæ¥è¿æ¥æœåŠ¡å™¨ï¼Œé‚£ä¹ˆåªéœ€è¦ç»™æ¯ä¸ªè·³æ¿æœºéƒ½é…ç½®ä¸Šæ›´å¤–å±‚çš„è·³æ¿å°±å¥½äº†ï¼Œåƒè¿™æ ·ï¼š</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…¶ä»–éƒ¨åˆ†ç•¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ€å¤–å±‚è·³æ¿æœº</span></span><br><span class="line">Host <span class="keyword">bastion-outer</span></span><br><span class="line"><span class="keyword"></span>    HostName    <span class="keyword">bastion-outer.mycompany.com</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="comment"># ä¸‹ä¸€å±‚è·³æ¿æœº</span></span><br><span class="line">Host <span class="keyword">bastion-inner</span></span><br><span class="line"><span class="keyword"></span>    HostName    <span class="keyword">bastion-inner.mycompany.com</span></span><br><span class="line"><span class="keyword"></span>    ProxyJump   <span class="keyword">bastion-outer</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="comment"># æœåŠ¡å™¨</span></span><br><span class="line">Host dev-*</span><br><span class="line">    HostName    %h.dev.mycompany.com </span><br><span class="line">    ProxyJump   <span class="keyword">bastion-inner</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œ<code>SSH</code>å°±ä¼šå…ˆè¿æ¥åˆ°<code>bastion-outer</code>ï¼Œç„¶åè¿åˆ°<code>bastion-inner</code>ï¼Œç„¶åè¿åˆ°<code>dev-user</code>ã€‚ç†è®ºä¸Šï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ— é™å¥—å¨ƒã€‚</p>

      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/cdb8f127/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/cdb8f127/" class="post-title-link" itemprop="url">å¦‚ä½•åœ¨MacOSä¸Šå®‰è£…Doom Emacs</a>
        </h2>

        <div class="post-meta-container">

          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-08-25 11:56:00" itemprop="dateCreated datePublished" datetime="2025-08-25T11:56:00+08:00">2025-08-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-05 14:43:04" itemprop="dateModified" datetime="2025-09-05T14:43:04+08:00">2025-09-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/cdb8f127/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/cdb8f127/" data-xid="/posts/cdb8f127/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="å¦‚ä½•åœ¨MacOSä¸Šå®‰è£…Doom-Emacs"><a href="#å¦‚ä½•åœ¨MacOSä¸Šå®‰è£…Doom-Emacs" class="headerlink" title="å¦‚ä½•åœ¨MacOSä¸Šå®‰è£…Doom Emacs"></a>å¦‚ä½•åœ¨MacOSä¸Šå®‰è£…Doom Emacs</h1><h2 id="1-Emacså®‰è£…"><a href="#1-Emacså®‰è£…" class="headerlink" title="1. Emacså®‰è£…"></a>1. Emacså®‰è£…</h2><h3 id="1-1-é€šè¿‡Homebrewå®‰è£…"><a href="#1-1-é€šè¿‡Homebrewå®‰è£…" class="headerlink" title="1.1 é€šè¿‡Homebrewå®‰è£…"></a>1.1 é€šè¿‡Homebrewå®‰è£…</h3><p>é¦–å…ˆæˆ‘ä»¬åˆ©ç”¨Macçš„åŒ…ç®¡ç†å·¥å…·hombrewï¼Œå®‰è£…çš„æ˜¯Emacs-plusï¼Œ<a target="_blank" rel="noopener" href="https://blogv1.seanzou.com/archives/(https://github.com/d12frosted/homebrew-emacs-plus#emacs-28)">ä¼ é€é—¨åœ¨æ­¤</a>ã€‚ å› ä¸ºå½“å‰Doom Emacsä¸æ”¯æŒ29.+ï¼Œ æ‰€ä»¥åªå®‰è£…28ç‰ˆæœ¬çš„Emacsï¼ˆ<code>Emacs 27.1+ (28.1 is recommended, or native-comp. 29+ is not supported).</code>ï¼‰</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ç”¨å‘½ä»¤å®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew tap d12frosted/emacs-plus</span><br><span class="line">brew install emacs-plus@28 --HEAD --with-modern-doom3-icon # æˆ‘ä»¬æƒ³æ¢ä¸€ä¸ªå¥½çœ‹çš„å¤´åƒï¼Œå˜»å˜»</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹å›¾ï¼Œdoom3çš„iconï¼Œå¥½çœ‹ï¼<br>[<img src="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2025/08/25/1W6D02.png" alt="Screen Shot 2023-04-11 at 17.18.14">](<a target="_blank" rel="noopener" href="http://blogv1.seanzou.com/upload/2023/04/Screen">http://blogv1.seanzou.com/upload/2023/04/Screen</a> Shot 2023-04-11 at 17.18.14-d3897770cd794c9ca49df2fbdc9b4f38.png)</p>
<h3 id="1-2-ç»™Emacsåˆ›å»ºå¿«æ·æ–¹å¼"><a href="#1-2-ç»™Emacsåˆ›å»ºå¿«æ·æ–¹å¼" class="headerlink" title="1.2 ç»™Emacsåˆ›å»ºå¿«æ·æ–¹å¼"></a>1.2 ç»™Emacsåˆ›å»ºå¿«æ·æ–¹å¼</h3><p>åˆ©ç”¨homebrewå®‰è£…å®ŒåEmacsï¼Œæˆ‘ä»¬å»å°†Emacsçš„appè¿æ¥ã€‚æˆ‘ä»¬é¦–å…ˆå»å®‰è£…äº†emacsçš„æ ¹ç›®å½•ã€‚å¯ä»¥ä»Summaryé‡Œé¢æ‰¾åˆ°ï¼Œe.g., <code>/opt/hombrew/Cellar/emacs-plus@27/HEAD-abedf3a</code>ã€‚ç„¶åä½¿ç”¨å‘½ä»¤<code>cp</code>è¿›è¡Œå¿«æ·æ–¹å¼çš„é“¾æ¥ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/hombrew/Cellar/emacs-plus@27/HEAD-abedf3a</span><br><span class="line">cp -r Emacs.app /Applications</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¼šå‘ç°æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯çˆ±çš„å›¾æ ‡çš„Emacsäº†ã€‚</p>
<h2 id="2-Doom-Emacsé…ç½®è¦†ç›–"><a href="#2-Doom-Emacsé…ç½®è¦†ç›–" class="headerlink" title="2. Doom Emacsé…ç½®è¦†ç›–"></a>2. Doom Emacsé…ç½®è¦†ç›–</h2><h3 id="2-1-å®‰è£…ä¾èµ–"><a href="#2-1-å®‰è£…ä¾èµ–" class="headerlink" title="2.1 å®‰è£…ä¾èµ–"></a>2.1 å®‰è£…ä¾èµ–</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install git ripgrep coreutils fd</span><br><span class="line">xcode<span class="operator">-</span><span class="keyword">select</span> <span class="comment">--install</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-è¦†ç›–Emacsçš„é…ç½®"><a href="#2-2-è¦†ç›–Emacsçš„é…ç½®" class="headerlink" title="2.2 è¦†ç›–Emacsçš„é…ç½®"></a>2.2 è¦†ç›–Emacsçš„é…ç½®</h3><p>è¿™ä¸ªæ—¶å€™Emacsçš„é…ç½®å¾ˆé‡è¦ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/doomemacs/doomemacs#install">DoomEmacs Github</a>ç»™çš„åœ°æ–¹æ˜¯<code>~/.config/emacs</code>ï¼Œä½†æ˜¯æˆ‘çš„é…ç½®å®Œå…¨ä¸æ˜¯è¿™ä¸ªï¼Œæ‰€ä»¥å¯¼è‡´æˆ‘æœ€å¼€å§‹å³ä½¿å®‰è£…æˆåŠŸäº†Doom å’Œ Emacsï¼Œä½†æ˜¯æ‰“å¼€çš„ä»æ—§æ˜¯åŸç‰ˆçš„Emacsï¼Œæ‰€ä»¥å¯¹äºæˆ‘æ¥è¯´ï¼ˆMacOSï¼‰ç”¨æˆ·æ¥è¯´å‘½ä»¤åº”è¯¥å¦‚ä¸‹ï¼Œæ­£ç¡®ä½ç½®ä¸Š<code>~/.emacs.d</code>ï¼Œè€Œä¸æ˜¯<code>~/.config/emacs</code>ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/doomemacs/doomemacs ~/.emacs.d</span><br><span class="line">cd ~/.emacs.d</span><br><span class="line">bin/doom install # å®‰è£…è¿‡ç¨‹ä¸­æœ‰y ç‚¹y</span><br><span class="line">bin/doom doctor  # æ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰é—®é¢˜</span><br><span class="line">bin/doom sync    # åŒæ­¥ä¸€ä¸‹ï¼Œæˆ‘æ²¡æœ‰è¿è¡Œè¿™è¡Œå‘½ä»¤ç”šè‡³æ— æ³•æ‰“å¼€Emacs</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤æˆ‘ä»¬çš„Doom Emacså·²ç»å®‰è£…å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå¯ä»¥å°†DoomåŠ å…¥ç¯å¢ƒå˜é‡ã€‚</p>
<p><strong>[å…³äºEmcasé…ç½®] æ¥è‡ªDasonå¤§ä½¬çš„å»ºè®®ï¼šåˆ æ‰.emacs.dï¼Œå°±ä¼šè‡ªåŠ¨è¯»å–.configé‡Œé¢çš„é…ç½®ã€‚</strong></p>
<h3 id="2-3-å°†Doomå‘½ä»¤åŠ å…¥"><a href="#2-3-å°†Doomå‘½ä»¤åŠ å…¥" class="headerlink" title="2.3 å°†Doomå‘½ä»¤åŠ å…¥"></a>2.3 å°†Doomå‘½ä»¤åŠ å…¥</h3><p>ä½¿ç”¨<code>vim ~/.bashrc</code>æˆ–è€…<code>vim ~/.bash_profile</code>ï¼Œç„¶ååŠ å…¥æˆ‘ä»¬é€šè¿‡å‘½ä»¤<code>pwd</code>æ‰¾åˆ°æˆ‘ä»¬å½“å‰Doomçš„ç›®å½•ï¼ŒåŠ å…¥è¿›å»å°±å¯ä»¥å•¦ã€‚å˜¿å˜¿ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>å®Œæˆäº†ï¼Œæ˜¨å¤©åœ¨ç«è½¦ä¸Šæ€è€ƒäº†ä¸€è·¯ï¼Œæœ€åå¾—å‡ºç»“è®ºï¼Œæ—¢ç„¶Doomå’ŒEmacséƒ½å®‰è£…æˆåŠŸäº†ï¼Œä½†æ˜¯æ‰“å¼€è¿˜æ˜¯åŸç‰ˆçš„Emacsï¼Œå¾ˆæ˜æ˜¾å°±æ˜¯Doomçš„é…ç½®æ–‡ä»¶æ²¡æœ‰è¦†ç›–æˆåŠŸï¼Œäºæ˜¯ä»Šå¤©é‡æ–°è¯•äº†ä¸€éï¼Œæ‰¾äº†ä¸€ä¸ªMacOSç‰ˆæœ¬çš„Youtubeè§†é¢‘ï¼Œç»“æœæˆåŠŸå•¦ã€‚<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=eyYxuIGF8-g">å‚è€ƒè§†é¢‘é“¾æ¥åœ¨æ­¤ã€‚</a></p>

      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/posts/ce2466fb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/lion.png">
      <meta itemprop="name" content="swimminghao">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="swimminghao's blog">
      <meta itemprop="description" content="swimminghaoçš„å­¦ä¹ åšå®¢">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | swimminghao's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/ce2466fb/" class="post-title-link" itemprop="url">è§£å†³ Parallels Desktop 17 æ— æ³•è¿æ¥ç½‘ç»œé—®é¢˜ ä»çº¯çº¯ç²¹ç²¹v</a>
        </h2>

        <div class="post-meta-container">

          

          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2025-02-25 15:59:00" itemprop="dateCreated datePublished" datetime="2025-02-25T15:59:00+08:00">2025-02-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2025-09-05 14:43:04" itemprop="dateModified" datetime="2025-09-05T14:43:04+08:00">2025-09-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Walineï¼š</span>
  
    <a title="waline" href="/posts/ce2466fb/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/posts/ce2466fb/" data-xid="/posts/ce2466fb/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>1.2k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="è§£å†³-Parallels-Desktop-17-æ— æ³•è¿æ¥ç½‘ç»œé—®é¢˜"><a href="#è§£å†³-Parallels-Desktop-17-æ— æ³•è¿æ¥ç½‘ç»œé—®é¢˜" class="headerlink" title="è§£å†³ Parallels Desktop 17 æ— æ³•è¿æ¥ç½‘ç»œé—®é¢˜"></a>è§£å†³ Parallels Desktop 17 æ— æ³•è¿æ¥ç½‘ç»œé—®é¢˜</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸å°‘å°ä¼™ä¼´åœ¨ macOS Big Sur æˆ– Monterey ä¸­å®‰è£… Parallels Desktop 16&#x2F;17 ä¹‹åï¼Œéƒ½é‡åˆ°äº†<strong>åˆå§‹åŒ–ç½‘ç»œå¤±è´¥</strong>ï¼Œæ— æ³•è¿æ¥ç½‘ç»œçš„é—®é¢˜ã€‚</p>
<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>æˆ‘ä»¬åªè¦ä¿®æ”¹ä¸¤ä¸ªæ–‡ä»¶çš„é…ç½®å³å¯ï¼š</p>
<blockquote>
<ul>
<li><code>/Library/Preferences/Parallels/dispatcher.desktop.xml</code></li>
<li><code>/Library/Preferences/Parallels/network.desktop.xml</code></li>
</ul>
</blockquote>
<p>å¯ä»¥é€šè¿‡ Finder çš„<strong>å‰å¾€æ–‡ä»¶å¤¹</strong>åŠŸèƒ½ç›´è¾¾:</p>
<ol>
<li>æ‰“å¼€ <code>dispatcher.desktop.xml</code> æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>&lt;Usb&gt;0&lt;/Usb&gt;</code>ï¼Œä¿®æ”¹ä¸º <code>&lt;Usb&gt;1&lt;/Usb&gt;</code> å¹¶ä¿å­˜ã€‚</li>
</ol>
<blockquote>
<p>å¦å¤–ï¼Œæœ‰äº›å°ç™½æœ‹å‹å¯èƒ½æŒ‰æˆªå›¾ä¸­çš„è¡Œå·æ¥æ‰¾ï¼Œè¿™æ˜¯ä¸å¯¹çš„ã€‚å¯é€šè¿‡ âŒ˜ + F é”®ï¼Œç„¶åè¾“å…¥å…³é”®è¯ï¼Œæ¥å¿«é€Ÿå®šä½ã€‚</p>
</blockquote>
<p>![3.webp.jpg](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2024/09/13/CleanShot">https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2024/09/13/CleanShot</a> 2024-09-13 at <a href="mailto:&#x31;&#48;&#x2e;&#x32;&#x33;&#x2e;&#51;&#54;&#x40;&#50;&#120;&#46;&#x70;&#x6e;&#103;">&#x31;&#48;&#x2e;&#x32;&#x33;&#x2e;&#51;&#54;&#x40;&#50;&#120;&#46;&#x70;&#x6e;&#103;</a>)</p>
<ol start="2">
<li>æ‰“å¼€ <code>network.desktop.xml</code> æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>&lt;UseKextless&gt;1&lt;/UseKextless&gt;</code> æˆ– <code>&lt;UseKextless&gt;-1&lt;/UseKextless&gt;</code>ï¼Œä¿®æ”¹ä¸º <code>&lt;UseKextless&gt;0&lt;/UseKextless&gt;</code> å¹¶ä¿å­˜ã€‚</li>
</ol>
<p>![2.webp.jpg](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2024/09/13/CleanShot">https://cdn.jsdelivr.net/gh/swimminghao/picture@main/img/2024/09/13/CleanShot</a> 2024-09-13 at <a href="mailto:&#49;&#x30;&#x2e;&#x32;&#x34;&#46;&#x31;&#55;&#x40;&#50;&#x78;&#46;&#x70;&#110;&#103;">&#49;&#x30;&#x2e;&#x32;&#x34;&#46;&#x31;&#55;&#x40;&#50;&#x78;&#46;&#x70;&#110;&#103;</a>)</p>
<p>å¦‚æœæ‰¾ä¸åˆ° <code>&lt;UseKextless&gt;1&lt;/UseKextless&gt;</code> æˆ– <code>&lt;UseKextless&gt;-1&lt;/UseKextless&gt;</code>ï¼Œé‚£ä¹ˆéœ€è¦æ–°å¢ä¸€è¡Œã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ParallelsNetworkConfig</span> <span class="attr">schemaVersion</span>=<span class="string">&quot;1.0&quot;</span> <span class="attr">dyn_lists</span>=<span class="string">&quot;VirtualNetworks 1&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åœ¨ç¬¬ä¸€è¡Œæ–°å¢å³å¯ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">UseKextless</span>&gt;</span>0<span class="tag">&lt;/<span class="name">UseKextless</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ParallelsNetworkConfig</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="3">
<li>å®Œå…¨é€€å‡º Parallels Desktopï¼Œé‡æ–°æ‰“å¼€ï¼Œå°±èƒ½æ­£å¸¸è¿æ¥ç½‘ç»œäº†ã€‚</li>
</ol>

      
    </div>

    
    
    


    <div>
      
    </div>

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>l




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">swimminghao</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">1.2m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">18:19</span>
  </span>
</div>

<span id="sitetime"></span>
<script language=javascript>
    function siteTime(){
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth()+1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- è¿”å›dateå¯¹è±¡è·ä¸–ç•Œæ ‡å‡†æ—¶é—´(UTC)1970å¹´1æœˆ1æ—¥åˆå¤œä¹‹é—´çš„æ¯«ç§’æ•°(æ—¶é—´æˆ³)
        year - ä½œä¸ºdateå¯¹è±¡çš„å¹´ä»½ï¼Œä¸º4ä½å¹´ä»½å€¼
        month - 0-11ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æœˆä»½
        day - 1-31ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å¤©æ•°
        hours - 0(åˆå¤œ24ç‚¹)-23ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„å°æ—¶æ•°
        minutes - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„åˆ†é’Ÿæ•°
        seconds - 0-59ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„ç§’æ•°
        microseconds - 0-999ä¹‹é—´çš„æ•´æ•°ï¼Œåšä¸ºdateå¯¹è±¡çš„æ¯«ç§’æ•° */
        var t1 = Date.UTC(2022,02,28,00,00,00); //ä½ çš„å»ºç«™æ—¶é—´
        var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
        var diff = t2-t1;
        var diffYears = Math.floor(diff/years);
        var diffDays = Math.floor((diff/days)-diffYears*365);
        var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
        var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
        var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
        document.getElementById("sitetime").innerHTML=" æœ¬ç«™å·²å®‰å…¨è¿è¡Œ "+diffYears+" Year "+diffDays+" Days "+diffHours+" Hours "+diffMinutes+" m "+diffSeconds+" s";
    }
    siteTime();
</script>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        è®¿é—®äººæ•°ï¼š<span id="busuanzi_value_site_uv"></span>
      </span>äºº
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
       è®¿é—®æ€»é‡ï¼š<span id="busuanzi_value_site_pv"></span>
      </span>æ¬¡
    </span>


<!--
  æœ¬æ–‡æ€»é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
-->

</div>


<!--
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

--><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>




  <script src="/js/third-party/pace.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




<script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"waline-server-nu.vercel.app","placeholder":"è¯·æ–‡æ˜è¯„è®ºå‘€","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","el":"#waline-comments","path":"/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
      pbOptions = {};
        pbOptions.iconStyle = "default";
        pbOptions.boxForm = "horizontal";
        pbOptions.position = "middleCenter";
        pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      new needShareButton('#needsharebutton-postbottom', pbOptions);
  </script>
</body>
</html>
